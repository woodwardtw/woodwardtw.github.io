[{"id":5735,"date":"2016-06-07T10:11:29","date_gmt":"2016-06-07T15:11:29","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5735"},"modified":"2016-06-07T10:11:29","modified_gmt":"2016-06-07T15:11:29","slug":"importing-moodle-into-wordpress","type":"post","link":"http:\/\/bionicteaching.com\/importing-moodle-into-wordpress\/","title":{"rendered":"Importing Moodle into WordPress"},"content":{"rendered":"<p><a title=\"Image from page 279 of \"The Ladies' home journal\" (1889)\" href=\"https:\/\/flickr.com\/photos\/internetarchivebookimages\/14785646403\"><img src=\"https:\/\/farm6.static.flickr.com\/5580\/14785646403_cbb3b6ddf4_z.jpg\" \/><\/a><br \/><small><a title=\"Image from page 279 of \"The Ladies' home journal\" (1889)\" href=\"https:\/\/flickr.com\/photos\/internetarchivebookimages\/14785646403\">flickr photo<\/a> shared by <a href=\"https:\/\/flickr.com\/people\/internetarchivebookimages\">Internet Archive Book Images<\/a> with <a href=\"https:\/\/flickr.com\/commons\/usage\/\">no copyright restriction (Flickr Commons)<\/a> <\/small><\/p>\n<p>A week or two ago some faculty members asked me about getting the <a href=\"http:\/\/vkc.mc.vanderbilt.edu\/vkc\/lend\/\">Leadership Education in Neurodevelopmental Disabilities<\/a> (LEND) content out of the Moodle hosted at Vanderbilt and into WordPress. I figured I could do this. Someone might even have done it already. If not, I figured the export options would have to put out something fairly straightforward that could be parsed. In any case, the majority of my learning comes from committing to things I don&#8217;t quite know how to do. <\/p>\n<p>Turns out I couldn&#8217;t find anyone who&#8217;d done this before. I went a variety of different routes as I attempted not to do the work myself. First, I exported the course in the two different flavors that were available (SCORM<sup id=\"citation-5735-1\" class=\"footnote\"><a href=\"#footnote-5735-1\">1<\/a><\/sup>\/Course Cartridge and Moodle backup). Just for fun I tried a few different flavors of import plugins . . . <a href=\"https:\/\/edwiser.org\/bridge\/\">Edwiser Bridge<\/a> might have worked but required a higher level of connection to Moodle than I felt like dealing with and seemed more focused on integration rather than migration, <a href=\"https:\/\/wordpress.org\/plugins\/really-simple-csv-importer\/\">Simple CSV Importer<\/a> and W<a href=\"http:\/\/www.wpallimport.com\/upgrade-to-pro\/\">P All Import<\/a> both failed to do what I needed despite pushing XML around a bit to try to make it work.  So with all the ready-made solutions exhausted<sup id=\"citation-5735-2\" class=\"footnote\"><a href=\"#footnote-5735-2\">2<\/a><\/sup> I turned to the export files. As I wandered, I found a way to <a href=\"http:\/\/www.reades.com\/2012\/11\/29\/mb-archives\/\">extract files from the Moodle backup using Python<\/a>. That would likely be useful but wasn&#8217;t quite what I needed.  <\/p>\n<h2>A Dead End<\/h2>\n<p><sup id=\"citation-5735-3\" class=\"footnote\"><a href=\"#footnote-5735-3\">3<\/a><\/sup><br \/>\nI then looked at the SCORM export (to see the innards change the extension to zip and unpack it). The central indexing file there is imsmanifest.xml. It is not something I found to be very intuitive. It&#8217;s one giant XML file, a portion of which is below. It&#8217;s a big list in this case- 4300+ lines of data. Basically, the <em>identifierref<\/em> elements reference resource <em>identifierref<\/em> elements that then reference folders and\/or files. It took me a while to figure this out (aka &#8211; <a href=\"http:\/\/stackoverflow.com\/questions\/37468594\/what-is-the-relationship-between-imsmanifest-xml-items-and-the-extracted-directo\">I asked on Stack Overflow<\/a>) as the initial item <em>identifier<\/em> pieces don&#8217;t seem to link to anything else. For instance, I_89A00510 is found only once in the xml file. I thought it&#8217;d be the key to associate that item with the content for that page but I never quite figured that out. <a href=\"https:\/\/gist.github.com\/woodwardtw\/f6ced1565e162c9a5a4f5770017e3ace\">I was able to import all the sub-pages<\/a><sup id=\"citation-5735-4\" class=\"footnote\"><a href=\"#footnote-5735-4\">4<\/a><\/sup> in as content but it didn&#8217;t have parent\/child relationships and the component pieces were often called the same thing. After doing all this, I realized part of my problem was that I didn&#8217;t know or understand the initial Moodle structure well enough to know when I was missing key elements. Stupid, I know but sometimes I must learn through pain. <\/p>\n<pre class=\"brush: xml; title: ; notranslate\" title=\"\">\r\n&lt;organizations&gt;\r\n    &lt;organization identifier=&quot;O_8DA0CAEE&quot; structure=&quot;rooted-hierarchy&quot;&gt;\r\n      &lt;item identifier=&quot;root&quot;&gt;\r\n        &lt;item identifier=&quot;I_88671EB7&quot;&gt;\r\n          &lt;title&gt;0&lt;\/title&gt;\r\n        &lt;\/item&gt;\r\n        &lt;item identifier=&quot;I_9AB82CBF&quot;&gt;\r\n          &lt;title&gt;Moodle Help Center&lt;\/title&gt;\r\n          &lt;item identifier=&quot;I_0089CDA6&quot;&gt;\r\n            &lt;title&gt;A. &amp;amp;nbsp;Videos on the Moodle Basics\r\nKojo Nyame h...&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n        &lt;\/item&gt;\r\n        &lt;item identifier=&quot;I_89A00510&quot;&gt;\r\n          &lt;title&gt;Applying Research to Inform Evidence Based Practice: Focus on Autism Spectrum Disorders&lt;\/title&gt;\r\n          &lt;item identifier=&quot;I_3D430750&quot;&gt;\r\n            &lt;title&gt;Module Description\r\nThis module will assist the le...&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n          &lt;item identifier=&quot;I_AECCCABB&quot; identifierref=&quot;I_219D9605_R&quot;&gt;\r\n            &lt;title&gt;I. Preparation&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n          &lt;item identifier=&quot;I_B0C5A138&quot; identifierref=&quot;I_6B507EBE_R&quot;&gt;\r\n            &lt;title&gt;II. Additional Resources&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n          &lt;item identifier=&quot;I_41E6A015&quot; identifierref=&quot;I_6A4D7306_R&quot;&gt;\r\n            &lt;title&gt;III. Assignments&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n        &lt;\/item&gt;\r\n        &lt;item identifier=&quot;I_F6CACDDD&quot;&gt;\r\n          &lt;title&gt;Autism: Adolescent and Early Adult Years&lt;\/title&gt;\r\n          &lt;item identifier=&quot;I_AB91D468&quot;&gt;\r\n            &lt;title&gt;Module Description\r\nIn this module, trainees will ...&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n          &lt;item identifier=&quot;I_79C977EC&quot; identifierref=&quot;I_0F8C1900_R&quot;&gt;\r\n            &lt;title&gt;I. Preparation&lt;\/title&gt;\r\n          &lt;\/item&gt;\r\n<\/pre>\n<pre class=\"brush: xml; title: ; notranslate\" title=\"\">\r\n &lt;resource identifier=&quot;I_5C671C7E_R&quot; type=&quot;webcontent&quot; href=&quot;i_10cd491e\/ii.__additional_resources.html&quot;&gt;\r\n      &lt;file href=&quot;i_10cd491e\/ii.__additional_resources.html&quot;\/&gt;\r\n      &lt;file href=&quot;i_9567c606\/travers_2014_racial_disparity.pdf&quot;\/&gt;\r\n      &lt;file href=&quot;i_9567c606\/goin-kochel_2006_how_many_doctors.pdf&quot;\/&gt;\r\n      &lt;file href=&quot;i_9567c606\/bradshaw_2014_feasibility_and_effectiveness.pdf&quot;\/&gt;\r\n      &lt;file href=&quot;i_9567c606\/vivanti_2014_effectiveness_and_feasibility.pdf&quot;\/&gt;\r\n      &lt;file href=&quot;i_9567c606\/estes_2014_impact_of_parent-delivered.pdf&quot;\/&gt;\r\n      &lt;file href=&quot;i_9567c606\/warren_2011_systematic_review.pdf&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_6EE69C9D_R&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_A0A3F23D_R&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_56F15652_R&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_9E129E4F_R&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_BBDA8CE4_R&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_35ED01AB_R&quot;\/&gt;\r\n      &lt;dependency identifierref=&quot;I_E323717E_R&quot;\/&gt;\r\n    &lt;\/resource&gt;\r\n<\/pre>\n<h2>A Solution<\/h2>\n<p>After spending some time figuring out the structure of the course in Moodle I decided I needed a break from the SCORM piece as it was making me angry so I switched to the Moodle export option. <\/p>\n<p>I got the guts of the Moodle export by changing the extension from <em>mbz<\/em> to <em>zip<\/em> and extracting as normal. That gave me a very different file structure. With this export there were a few xml files at the root of the directory and a few different folders. The relevant pieces ended up being <em>moodle_backup.xml<\/em> and the <em>activities<\/em> and <em>sections<\/em> directories. <\/p>\n<pre class=\"brush: xml; title: ; notranslate\" title=\"\">\r\n\r\n  &lt;activity&gt;\r\n          &lt;moduleid&gt;6&lt;\/moduleid&gt;\r\n          &lt;sectionid&gt;4&lt;\/sectionid&gt;\r\n          &lt;modulename&gt;label&lt;\/modulename&gt;\r\n          &lt;title&gt;Module Description\r\nIn this module, trainees will ...&lt;\/title&gt;\r\n          &lt;directory&gt;activities\/label_6&lt;\/directory&gt;\r\n        &lt;\/activity&gt;\r\n        &lt;activity&gt;\r\n          &lt;moduleid&gt;7&lt;\/moduleid&gt;\r\n          &lt;sectionid&gt;4&lt;\/sectionid&gt;\r\n          &lt;modulename&gt;page&lt;\/modulename&gt;\r\n          &lt;title&gt;I. Preparation&lt;\/title&gt;\r\n          &lt;directory&gt;activities\/page_7&lt;\/directory&gt;\r\n        &lt;\/activity&gt;\r\n        &lt;activity&gt;\r\n          &lt;moduleid&gt;8&lt;\/moduleid&gt;\r\n          &lt;sectionid&gt;4&lt;\/sectionid&gt;\r\n          &lt;modulename&gt;page&lt;\/modulename&gt;\r\n          &lt;title&gt;II. Additional Resources&lt;\/title&gt;\r\n          &lt;directory&gt;activities\/page_8&lt;\/directory&gt;\r\n        &lt;\/activity&gt;       \r\n<\/pre>\n<p>It took me a bit to parse out the various pieces but eventually I figured out how the various pieces fit together. It&#8217;s something like the image below and it knits various xml files together from various directories.<br \/>\n<a data-flickr-embed=\"true\"  href=\"https:\/\/www.flickr.com\/photos\/bionicteaching\/26913772264\/in\/dateposted-public\/\" title=\"moodle xml pieces\"><img src=\"https:\/\/c1.staticflickr.com\/8\/7446\/26913772264_29d2c4ca3d_b.jpg\" width=\"968\" height=\"761\" alt=\"moodle xml pieces\"><\/a><script async src=\"\/\/embedr.flickr.com\/assets\/client-code.js\" charset=\"utf-8\"><\/script><\/p>\n<p>Here&#8217;s a plugin that seems to work pretty well based on my tests. It pulled in 200 or so pages and kept the parent\/child relationships. I added a little shortcode piece from the <a href=\"http:\/\/web-profile.net\/wordpress\/plugins\/page-list\/\">page-list plugin<\/a>,<sup id=\"citation-5735-5\" class=\"footnote\"><a href=\"#footnote-5735-5\">5<\/a><\/sup> that puts links to the child elements at the bottom of each parent page. <\/p>\n<p>The plugin is activated by going to http:\/\/rootURL.com\/?run_my_script and the moodle backup file is hardcoded (see below). Not beautiful but functional enough for me at the moment. You&#8217;ll also see lots of var_dump or echo statements commented out. I left them in there in part to help show how I figure out if something is working. Prior to adding the WP plugin code, I just see if I can parse out the elements into a page. If I can do that then it&#8217;s just a matter of sorting them into the slots that WP provides. I learned how to do that when playing with <a href=\"http:\/\/adamcroom.com\/2016\/03\/the-vinyl-subdomain\/\">Adam&#8217;s discography import<\/a>. I mention that because I find this kind of learning always has positive echoes. <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n\r\n&lt;?php\r\n\/**\r\n * Plugin Name: IMPORT MOODLE \r\n * Plugin URI: https:\/\/github.com\/woodwardtw\/\r\n * Description: Parses moodle_backup.xml to create WP pages\r\n * Version: 1.1\r\n * Author: Tom Woodward\r\n * Author URI: http:\/\/bionicteaching.com\r\n * License: GPL2\r\n *\/\r\n \r\n \/*   2016 Tom  (email : bionicteaching@gmail.com)\r\n \r\n \tThis program is free software; you can redistribute it and\/or modify\r\n \tit under the terms of the GNU General Public License, version 2, as \r\n \tpublished by the Free Software Foundation.\r\n \r\n \tThis program is distributed in the hope that it will be useful,\r\n \tbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\n \tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n \tGNU General Public License for more details.\r\n \r\n \tYou should have received a copy of the GNU General Public License\r\n \talong with this program; if not, write to the Free Software\r\n \tFoundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\r\n *\/\r\n\r\nif ( isset($_GET['run_my_script']) ) {\r\n    add_action('init', 'makePages', 10);\r\n    add_action('init', 'script_finished', 20);\r\n}\r\n \r\n\r\n \r\nfunction script_finished() {\r\n    add_option('my_script_complete', 1);\r\n    die(&quot;Script finished.&quot;);\r\n}\r\n\r\n\r\nfunction makePages(){\r\n$file = 'http:\/\/192.168.33.10\/mood2\/unzip\/moodle_backup.xml'; \/\/load the main backup file ****hardcoded so point it at your file\r\n\r\nif (($response_xml_data = file_get_contents($file)) === false) {\r\n    echo &quot;Error fetching XML\\n&quot;;\r\n} else {\r\n    libxml_use_internal_errors(true);\r\n    $data = simplexml_load_string($response_xml_data);\r\n    if (!$data) {\r\n        echo &quot;Error loading XML\\n&quot;;\r\n        foreach (libxml_get_errors() as $error) {\r\n            echo &quot;\\t&quot;, $error-&gt;message;\r\n        }\r\n    } else {\r\n        \r\n        $activityCounter = count($data-&gt;information-&gt;contents-&gt;activities-&gt;activity); \/\/how many things do we have\r\n        echo 'total count ' . $activityCounter . '&lt;br&gt;';\r\n        \r\n        \r\n        \r\n        for ($x = 0; $x &lt; $activityCounter; $x++) {\r\n            $moduleid   = $data-&gt;information-&gt;contents-&gt;activities[0]-&gt;activity[$x]-&gt;moduleid[0];\r\n            $sectionid  = $data-&gt;information-&gt;contents-&gt;activities[0]-&gt;activity[$x]-&gt;sectionid[0];\r\n            $directory  = $data-&gt;information-&gt;contents-&gt;activities[0]-&gt;activity[$x]-&gt;directory[0];\r\n            $underscore = strpos($directory, '_'); \/\/should probably replace this with some regex ....\r\n            $slash      = strpos($directory, '\/');\r\n            $xmlPage    = substr($directory, $slash, ($underscore - $slash));\r\n            \/\/echo 'xmlPage ' . $xmlPage . ' &lt;br\/&gt; ';  \r\n            \/\/echo 'the underscore is ' . $underscore . ' &lt;br\/&gt; ';  \r\n            \/\/echo 'the slash is ' . $slash . ' &lt;br\/&gt; ';             \r\n            \r\n            \/\/ echo 'the module is  ' . $moduleid[0] . ' sectid - ' .$secionid[0] . ' directory - ' . $directory .'&lt;br\/&gt;';\r\n            $directoryContent = 'http:\/\/192.168.33.10\/mood2\/unzip\/' . $directory . $xmlPage . '.xml'; \/\/*****hardcoded ******* point appropriately\r\n            $sectionContent   = 'http:\/\/192.168.33.10\/mood2\/unzip\/sections\/section_' . $sectionid . '\/section.xml';  \/\/******hardcoded ******* point appropriately\r\n            \/\/echo $directoryContent;\r\n            $theContent       = simplexml_load_file($directoryContent); \/\/load up the xml file per subfolder to main pages if that thing is a label (as opposed to a page) it makes it a parent page\r\n            if ($xmlPage === '\/label') {\r\n                $theSectionContent = simplexml_load_file($sectionContent);\r\n                 $pageTitle = $theSectionContent-&gt;name;\r\n                 $pageSummary = $theSectionContent-&gt;summary;\r\n                 $labelName = $theContent-&gt;label-&gt;name;\r\n                 $labelIntro = $theContent-&gt;label-&gt;intro;\r\n                 $content = $pageSummary . '&lt;br\/&gt;' . $labelName . '&lt;br\/&gt;' . $labelIntro . '&lt;br\/&gt;[subpages]'; \/\/the content for the parent page with the shortcode to list child pages\r\n\r\n                $my_post = array(\r\n                'post_title' =&gt; $pageTitle,\r\n                'post_content' =&gt; $content,\r\n                'post_status' =&gt; 'publish',\r\n                'post_author'   =&gt; 1,\r\n                'post_type' =&gt; 'page',\r\n                );\r\n                     \r\n                 $the_post_id = wp_insert_post( $my_post );\r\n\r\n                 $page = get_page_by_title( $pageTitle);\r\n                 $parentId = $page-&gt;ID;\r\n\r\n            } else {\r\n                $childTitle = $theContent-&gt;page-&gt;name; \/\/child page creation \r\n                $childContent = $theContent-&gt;page-&gt;content;\r\n\r\n\r\n                $my_post = array(\r\n                'post_title' =&gt; $childTitle,\r\n                'post_content' =&gt; $childContent,\r\n                'post_status' =&gt; 'publish',\r\n                'post_author'   =&gt; 1,\r\n                'post_type' =&gt; 'page',\r\n                'post_parent' =&gt; $parentId, \/\/assigns the parent ID \r\n                );\r\n                     \r\n                 $the_post_id = wp_insert_post( $my_post );\r\n                          \r\n            }\r\n                        \r\n        }\r\n        \r\n    }\r\n    \r\n}\r\n    \r\n        \r\n        }\r\n     \r\n\r\n<\/pre>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-5735-1\"><sup><a href=\"#citation-5735-1\">1<\/a><\/sup> I&#8217;m pretty sure this is a comic book villain.<\/p>\n<p id=\"footnote-5735-2\"><sup><a href=\"#citation-5735-2\">2<\/a><\/sup> Exhaustion being defined as the limits of my own patience divided by skill at Googling times a masochistic interest in building it myself . . . <\/p>\n<p id=\"footnote-5735-3\"><sup><a href=\"#citation-5735-3\">3<\/a><\/sup> Educational and all that but mainly just documenting a failure.<\/p>\n<p id=\"footnote-5735-4\"><sup><a href=\"#citation-5735-4\">4<\/a><\/sup> Included as an example of what not to do.<\/p>\n<p id=\"footnote-5735-5\"><sup><a href=\"#citation-5735-5\">5<\/a><\/sup> Hat tip to <a href=\"http:\/\/cogdogblog.com\">Alan<\/a> for that plugin if memory serves . . . <\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>flickr photo shared by Internet Archive Book Images with no copyright restriction (Flickr Commons) A week or two ago some faculty members asked me about getting the Leadership Education in Neurodevelopmental Disabilities (LEND) content out of the Moodle hosted at Vanderbilt and into WordPress. I figured I could do this. Someone might even have done it already. If not, I figured the export options would have to put out something fairly straightforward that could be parsed. In any case, the majority of my learning comes from committing to things I don&#8217;t quite know how to do. Turns out I couldn&#8217;t find anyone who&#8217;d done this before. I went a variety of different routes as I attempted not to do the work myself. First, I exported the course in the two different flavors that were available (SCORM1\/Course Cartridge and Moodle backup). Just for fun I tried a few different flavors of import plugins . . . Edwiser Bridge might have worked but required a higher level of connection to Moodle than I felt like dealing with and seemed more focused on integration rather than migration, Simple CSV Importer and WP All Import both failed to do what I needed despite pushing XML around a bit to try to make it work. So with all the ready-made solutions exhausted2 I turned to [&hellip;]<\/p>\n"},"author":1,"featured_media":5737,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[65,66],"tags":[621,620,359,419],"better_featured_image":{"id":5737,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":640,"height":374,"file":"2016\/06\/14785646403_cbb3b6ddf4_z.jpg","sizes":{"thumbnail":{"file":"14785646403_cbb3b6ddf4_z-150x150.jpg","width":150,"height":150,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/06\/14785646403_cbb3b6ddf4_z-150x150.jpg"},"medium":{"file":"14785646403_cbb3b6ddf4_z-550x321.jpg","width":550,"height":321,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/06\/14785646403_cbb3b6ddf4_z-550x321.jpg"}},"image_meta":{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0","keywords":[]}},"post":5735,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/06\/14785646403_cbb3b6ddf4_z.jpg"},"URL_count":["17"],"word_count":["2064"],"URL_array":["a:17:{i:0;a:2:{i:0;s:65:\"\"https:\/\/flickr.com\/photos\/internetarchivebookimages\/14785646403\"\";i:1;s:55:\"flickr.com\/photos\/internetarchivebookimages\/14785646403\";}i:1;a:2:{i:0;s:67:\"\"https:\/\/farm6.static.flickr.com\/5580\/14785646403_cbb3b6ddf4_z.jpg\"\";i:1;s:57:\"farm6.static.flickr.com\/5580\/14785646403_cbb3b6ddf4_z.jpg\";}i:2;a:2:{i:0;s:65:\"\"https:\/\/flickr.com\/photos\/internetarchivebookimages\/14785646403\"\";i:1;s:55:\"flickr.com\/photos\/internetarchivebookimages\/14785646403\";}i:3;a:2:{i:0;s:53:\"\"https:\/\/flickr.com\/people\/internetarchivebookimages\"\";i:1;s:43:\"flickr.com\/people\/internetarchivebookimages\";}i:4;a:2:{i:0;s:35:\"\"https:\/\/flickr.com\/commons\/usage\/\"\";i:1;s:25:\"flickr.com\/commons\/usage\/\";}i:5;a:2:{i:0;s:40:\"\"http:\/\/vkc.mc.vanderbilt.edu\/vkc\/lend\/\"\";i:1;s:31:\"vkc.mc.vanderbilt.edu\/vkc\/lend\/\";}i:6;a:2:{i:0;s:29:\"\"https:\/\/edwiser.org\/bridge\/\"\";i:1;s:19:\"edwiser.org\/bridge\/\";}i:7;a:2:{i:0;s:59:\"\"https:\/\/wordpress.org\/plugins\/really-simple-csv-importer\/\"\";i:1;s:49:\"wordpress.org\/plugins\/really-simple-csv-importer\/\";}i:8;a:2:{i:0;s:44:\"\"http:\/\/www.wpallimport.com\/upgrade-to-pro\/\"\";i:1;s:35:\"www.wpallimport.com\/upgrade-to-pro\/\";}i:9;a:2:{i:0;s:47:\"\"http:\/\/www.reades.com\/2012\/11\/29\/mb-archives\/\"\";i:1;s:38:\"www.reades.com\/2012\/11\/29\/mb-archives\/\";}i:10;a:2:{i:0;s:126:\"\"http:\/\/stackoverflow.com\/questions\/37468594\/what-is-the-relationship-between-imsmanifest-xml-items-and-the-extracted-directo\"\";i:1;s:117:\"stackoverflow.com\/questions\/37468594\/what-is-the-relationship-between-imsmanifest-xml-items-and-the-extracted-directo\";}i:11;a:2:{i:0;s:69:\"\"https:\/\/gist.github.com\/woodwardtw\/f6ced1565e162c9a5a4f5770017e3ace\"\";i:1;s:59:\"gist.github.com\/woodwardtw\/f6ced1565e162c9a5a4f5770017e3ace\";}i:12;a:2:{i:0;s:80:\"\"https:\/\/www.flickr.com\/photos\/bionicteaching\/26913772264\/in\/dateposted-public\/\"\";i:1;s:70:\"www.flickr.com\/photos\/bionicteaching\/26913772264\/in\/dateposted-public\/\";}i:13;a:2:{i:0;s:65:\"\"https:\/\/c1.staticflickr.com\/8\/7446\/26913772264_29d2c4ca3d_b.jpg\"\";i:1;s:55:\"c1.staticflickr.com\/8\/7446\/26913772264_29d2c4ca3d_b.jpg\";}i:14;a:2:{i:0;s:53:\"\"http:\/\/web-profile.net\/wordpress\/plugins\/page-list\/\"\";i:1;s:44:\"web-profile.net\/wordpress\/plugins\/page-list\/\";}i:15;a:2:{i:0;s:23:\"\"http:\/\/cogdogblog.com\"\";i:1;s:14:\"cogdogblog.com\";}i:16;a:2:{i:0;s:51:\"\"http:\/\/adamcroom.com\/2016\/03\/the-vinyl-subdomain\/\"\";i:1;s:42:\"adamcroom.com\/2016\/03\/the-vinyl-subdomain\/\";}}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5735"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5735"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5735\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/5737"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5735"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5735"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5735"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":5604,"date":"2016-03-28T14:10:52","date_gmt":"2016-03-28T19:10:52","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5604"},"modified":"2016-03-28T14:19:52","modified_gmt":"2016-03-28T19:19:52","slug":"csv-parser-shortcode-plugin","type":"post","link":"http:\/\/bionicteaching.com\/csv-parser-shortcode-plugin\/","title":{"rendered":"CSV Parser Shortcode Plugin"},"content":{"rendered":"<p><a title=\"(Constance Hall) St. Geo. And Dragon, Bryn Mawr  (LOC)\" href=\"https:\/\/flickr.com\/photos\/library_of_congress\/5579666780\"><img src=\"https:\/\/farm6.static.flickr.com\/5228\/5579666780_55f637f965_z.jpg\" \/><\/a><br \/><small><a title=\"(Constance Hall) St. Geo. And Dragon, Bryn Mawr  (LOC)\" href=\"https:\/\/flickr.com\/photos\/library_of_congress\/5579666780\">flickr photo<\/a> shared by <a href=\"https:\/\/flickr.com\/people\/library_of_congress\">The Library of Congress<\/a> with <a href=\"https:\/\/flickr.com\/commons\/usage\/\">no copyright restriction (Flickr Commons)<\/a> <\/small><\/p>\n<p>The title just rolls off the tongue, yes?<\/p>\n<p>But what it does is kind of interesting. <\/p>\n<p>It&#8217;s not a drag\/drop solution but it starts to show how we can better knit different services together. In this case, I run a Google <a href=\"https:\/\/gist.github.com\/woodwardtw\/0aa352d43e135baf76de\">Script<\/a> to <a href=\"https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/edit?usp=sharing\">generate a spreadsheet<\/a> of files (I can probably make that a straight up API connection in the near future). I publish that spreadsheet as CSV because Google sheets to JSON feels a good bit slower.<sup id=\"citation-5604-1\" class=\"footnote\"><a href=\"#footnote-5604-1\">1<\/a><\/sup> <\/p>\n<p>Then the following shortcode (but w\/in square brackets) generates the little unordered lists below. It&#8217;s taking that list of 464 files and just chopping out the ones where the filename&#8217;s first letters match <strong>A-1<\/strong> and the parent folder is <strong>Tasks<\/strong>. Not brain surgery, right? But it is a pretty flexible solution to allow flexible access to any chunk of CSV (should work on any CSV on the web- assuming you adjust the elements to reflect the data) text you want to display portions of on the fly. People can do all their work in Google Drive and it seamlessly updates in WordPress. People without WordPress skills can update and change where these lists appear through a simple shortcode.<\/p>\n<p>To be clear, this is an integration rather than an import. Nothing is being #reclaimed. <\/p>\n<blockquote><p>csvToList file=&#8221;https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv&#8221; sol=&#8221;A-1-&#8221; type=&#8221;Tasks&#8221;\n<\/p><\/blockquote>\n<ul><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfaDU5TFRpdzh2NFE\">A-1-2_TaskJMUEvalExp.docx<\/a> - Hi. I'm a file description. Did you know I exist? - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfaDU5TFRpdzh2NFE\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfWXRMaThJTlo2eGM\">A-1-1_TaskJMUGuessingGame.docx<\/a> - Hi. I'm a file description. Did you know I exist? - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfWXRMaThJTlo2eGM\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfMHlEYkhtT3VHOWs\">A-1-1_TaskJMUAreaDispute.docx<\/a> - Hi. I'm a file description. Did you know I exist? - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfMHlEYkhtT3VHOWs\/view?usp=drivesdk\">preview<\/a><\/li><\/ul>\n<p>and again with slightly different parameters<\/p>\n<blockquote><p>csvToList file=&#8221;https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv&#8221; sol=&#8221;A&#8221; type=&#8221;Instructional Materials&#8221;\n<\/p><\/blockquote>\n<ul><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfWDk4SmM0R3hNSU0\">A-1-2_NotesEvaluatingExpressionsKEY.pdf<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfWDk4SmM0R3hNSU0\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfWmRrYmxMNzh3VGs\">A-1-2_NotesEvaluatingExpressions.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfWmRrYmxMNzh3VGs\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfcGxtN0d6M2JjcUk\">A-1-1_TranslatingAnAlgebraicWritingPromptWkst.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfcGxtN0d6M2JjcUk\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfOEpLYzZPNWluU28\">A-1-1_NotesTranslatingExpressionsKEY.pdf<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfOEpLYzZPNWluU28\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfUmlDZDdrSTZDVk0\">A-1-1_NotesTranslatingExpressions.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfUmlDZDdrSTZDVk0\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfZmQ3R3NucGpTSXM\">A-1-1_MathOperationsSymbolsGraphicOrganizer.pdf<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfZmQ3R3NucGpTSXM\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfLW5zWjMyN253V0k\">A-1-1_ExpressionsNotes.pptx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfLW5zWjMyN253V0k\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfSE11UnI3dkQ0MDQ\">A-1-1_ExpressionsGuidedNotes.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfSE11UnI3dkQ0MDQ\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfWDk4SmM0R3hNSU0\">A-1-2_NotesEvaluatingExpressionsKEY.pdf<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfWDk4SmM0R3hNSU0\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfWmRrYmxMNzh3VGs\">A-1-2_NotesEvaluatingExpressions.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfWmRrYmxMNzh3VGs\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfcGxtN0d6M2JjcUk\">A-1-1_TranslatingAnAlgebraicWritingPromptWkst.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfcGxtN0d6M2JjcUk\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfOEpLYzZPNWluU28\">A-1-1_NotesTranslatingExpressionsKEY.pdf<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfOEpLYzZPNWluU28\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfUmlDZDdrSTZDVk0\">A-1-1_NotesTranslatingExpressions.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfUmlDZDdrSTZDVk0\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfZmQ3R3NucGpTSXM\">A-1-1_MathOperationsSymbolsGraphicOrganizer.pdf<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfZmQ3R3NucGpTSXM\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfLW5zWjMyN253V0k\">A-1-1_ExpressionsNotes.pptx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfLW5zWjMyN253V0k\/view?usp=drivesdk\">preview<\/a><\/li><li><a href=\"https:\/\/docs.google.com\/uc?export=download&confirm=no_antivirus&id=0BxGcFSIReuGfSE11UnI3dkQ0MDQ\">A-1-1_ExpressionsGuidedNotes.docx<\/a> -  - <a href=\"https:\/\/drive.google.com\/file\/d\/0BxGcFSIReuGfSE11UnI3dkQ0MDQ\/view?usp=drivesdk\">preview<\/a><\/li><\/ul>\n<p>If the plugin interests you, <a href=\"https:\/\/github.com\/woodwardtw\/csvtToSol\/blob\/master\/csvToSol.php\">it&#8217;s over here<\/a>. <\/p>\n<p>The more interesting piece of the plugin is below. <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n$return_string = '&lt;ul id=&quot;sols&quot;&gt;';\r\n    $substrLength = strlen($sol);\r\n            $csv = array_map('str_getcsv', file($file));\r\n            array_walk($csv, function(&amp;$a) use ($csv) {\r\n            $a = array_combine($csv[0], $a);\r\n                                    });\r\n            foreach($csv as $item) {\r\n                $name = $item['Name']; \/\/file name\r\n                $short = substr($name, 0, $substrLength); \/\/gets the part it'll search for\r\n                $download = $item['Download']; \/\/download file url\r\n                $description = $item['Description']; \/\/gets file description which no one uses in Google\r\n                $folder = $item['Folder']; \/\/gets the folder name\r\n                $preview = $item['URL']; \/\/preview URL\r\n                if ($short == $sol &amp;&amp; $folder == $type){\r\n                $return_string .=  '&lt;li&gt;&lt;a href=&quot;' . $download . '&quot;&gt;' . $name . '&lt;\/a&gt; - ' . $description . ' - &lt;a href=&quot;' . $preview . '&quot;&gt;preview&lt;\/a&gt;&lt;\/li&gt;'; \/\/mixes the stuff together for display\r\n                }\r\n            }\r\n   $return_string .= '&lt;\/ul&gt;';\r\n   return $return_string; \/\/spits it back out\r\n\r\n\r\n<\/pre>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-5604-1\"><sup><a href=\"#citation-5604-1\">1<\/a><\/sup> I have no data to back me up but I&#8217;m relatively sure that&#8217;s true.<\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>flickr photo shared by The Library of Congress with no copyright restriction (Flickr Commons) The title just rolls off the tongue, yes? But what it does is kind of interesting. It&#8217;s not a drag\/drop solution but it starts to show how we can better knit different services together. In this case, I run a Google Script to generate a spreadsheet of files (I can probably make that a straight up API connection in the near future). I publish that spreadsheet as CSV because Google sheets to JSON feels a good bit slower.1 Then the following shortcode (but w\/in square brackets) generates the little unordered lists below. It&#8217;s taking that list of 464 files and just chopping out the ones where the filename&#8217;s first letters match A-1 and the parent folder is Tasks. Not brain surgery, right? But it is a pretty flexible solution to allow flexible access to any chunk of CSV (should work on any CSV on the web- assuming you adjust the elements to reflect the data) text you want to display portions of on the fly. People can do all their work in Google Drive and it seamlessly updates in WordPress. People without WordPress skills can update and change where these lists appear through a simple shortcode. To be clear, this is an integration rather than an [&hellip;]<\/p>\n"},"author":1,"featured_media":5609,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[46,66],"tags":[556,359,608],"better_featured_image":{"id":5609,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":640,"height":467,"file":"2016\/03\/5579666780_55f637f965_z.jpg","sizes":{"thumbnail":{"file":"5579666780_55f637f965_z-150x150.jpg","width":150,"height":150,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/03\/5579666780_55f637f965_z-150x150.jpg"},"medium":{"file":"5579666780_55f637f965_z-550x401.jpg","width":550,"height":401,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/03\/5579666780_55f637f965_z-550x401.jpg"}},"image_meta":{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0","keywords":[]}},"post":5604,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/03\/5579666780_55f637f965_z.jpg"},"URL_count":["12"],"word_count":["510"],"URL_array":["a:12:{i:0;a:2:{i:0;s:58:\"\"https:\/\/flickr.com\/photos\/library_of_congress\/5579666780\"\";i:1;s:48:\"flickr.com\/photos\/library_of_congress\/5579666780\";}i:1;a:2:{i:0;s:66:\"\"https:\/\/farm6.static.flickr.com\/5228\/5579666780_55f637f965_z.jpg\"\";i:1;s:56:\"farm6.static.flickr.com\/5228\/5579666780_55f637f965_z.jpg\";}i:2;a:2:{i:0;s:58:\"\"https:\/\/flickr.com\/photos\/library_of_congress\/5579666780\"\";i:1;s:48:\"flickr.com\/photos\/library_of_congress\/5579666780\";}i:3;a:2:{i:0;s:47:\"\"https:\/\/flickr.com\/people\/library_of_congress\"\";i:1;s:37:\"flickr.com\/people\/library_of_congress\";}i:4;a:2:{i:0;s:35:\"\"https:\/\/flickr.com\/commons\/usage\/\"\";i:1;s:25:\"flickr.com\/commons\/usage\/\";}i:5;a:2:{i:0;s:57:\"\"https:\/\/gist.github.com\/woodwardtw\/0aa352d43e135baf76de\"\";i:1;s:47:\"gist.github.com\/woodwardtw\/0aa352d43e135baf76de\";}i:6;a:2:{i:0;s:102:\"\"https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/edit?usp=sharing\"\";i:1;s:92:\"docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/edit?usp=sharing\";}i:7;a:2:{i:0;s:100:\"\"https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\"\";i:1;s:90:\"docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\";}i:8;a:2:{i:0;s:100:\"\"https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\"\";i:1;s:90:\"docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\";}i:9;a:2:{i:0;s:100:\"\"https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\"\";i:1;s:90:\"docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\";}i:10;a:2:{i:0;s:100:\"\"https:\/\/docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\"\";i:1;s:90:\"docs.google.com\/spreadsheets\/d\/1TbpX61BXYwSR-0Wb0-TcYoVY9ks7ElSLsheGNF2bLmM\/pub?output=csv\";}i:11;a:2:{i:0;s:66:\"\"https:\/\/github.com\/woodwardtw\/csvtToSol\/blob\/master\/csvToSol.php\"\";i:1;s:56:\"github.com\/woodwardtw\/csvtToSol\/blob\/master\/csvToSol.php\";}}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5604"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5604"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5604\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/5609"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5604"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5604"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5604"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":5357,"date":"2016-01-21T09:43:57","date_gmt":"2016-01-21T14:43:57","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5357"},"modified":"2016-01-21T09:45:13","modified_gmt":"2016-01-21T14:45:13","slug":"put-the-events-calendar-month-view-on-your-homepage","type":"post","link":"http:\/\/bionicteaching.com\/put-the-events-calendar-month-view-on-your-homepage\/","title":{"rendered":"Put The Events Calendar Month View on Your Homepage"},"content":{"rendered":"<p>Because I&#8217;ve been messing with <a href=\"https:\/\/wordpress.org\/plugins\/the-events-calendar\/\">The Events Calendar<\/a> for the <a href=\"http:\/\/rvarts.org\">RVArts<\/a> project, along came another conversation where that plugin seemed like a good answer. It answered all their needs except for one &#8211; the wanted to have the month view of events be the homepage for the site. I knew that didn&#8217;t happen natively but I figured I could do it. <\/p>\n<p>The first step is to create a custom page template. There are a <a href=\"https:\/\/developer.wordpress.org\/themes\/template-files-section\/page-template-files\/page-templates\/\">number of tutorials<\/a> on how to do that. I usually just duplicate the page template for the theme I&#8217;m using as a parent and go from there. The one I&#8217;m using is below.<br \/>\nThe Events Calendar has this <a href=\"https:\/\/theeventscalendar.com\/function\/tribe_show_month\/\">nice function (tribe_show_month)<\/a> which&#8217;ll pull the month&#8217;s data by default.<\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php\r\n\/**\r\n * Template Name: Month Page\r\n * The template for displaying the month view on the front page.\r\n *\r\n * @package _tk\r\n * @package TribeEventsCalendar\r\n *\/\r\n\r\nget_header(); ?&gt;\r\n\r\n&lt;?php $now = date_i18n( 'Y-m-01' ) ?&gt; \/\/get the date so we show the right month\r\n&lt;?php tribe_show_month( array( 'eventDate' =&gt; $now, 'tribe-events\/month\/content' ) )?&gt; \/\/get the events for the month\r\n&lt;?php get_template_part('page' ); ?&gt; \/\/ you don't have to have this but I figured maybe we'll want to write something below the calendar \r\n\t\t&lt;?php comments_template( '', true ); ?&gt;\r\n\r\n&lt;?php get_footer(); ?&gt;\r\n<\/pre>\n<p>That&#8217;ll get you something that looks like below (depending on your theme).<br \/>\n<img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612.png\" alt=\"Screen Shot 2016-01-21 at 9.19.36 AM\" width=\"1024\" height=\"612\" class=\"aligncenter size-large wp-image-5358\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-550x329.png 550w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-768x459.png 768w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/p>\n<p>It&#8217;s the right content but it&#8217;s not applying the same CSS\/JS that&#8217;s on the regular month view. You could go in and rewrite CSS and JS etc. but that would suck for this particular project. <\/p>\n<p>It turns out you have to enqueue the right stuff and <a href=\"http:\/\/computerhelperzz.blogspot.com\/2014\/01\/how-to-add-events-calendar-to-wordpress.html\">this post<\/a> was so very helpful in telling what to enqueue. I updated it to the newer functions and presto everything worked just like the normal month events view. It goes into my child theme&#8217;s functions.php. This particular version only enqueues the script when the page is set to the homepage. <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\nadd_action('wp_enqueue_scripts', 'enqueue_month_view_scripts');\r\nfunction enqueue_month_view_scripts() {\r\n    if ( is_front_page() ) {\r\n        Tribe__Events__Template_Factory::asset_package('ajax-calendar');\r\n Tribe__Events__Template_Factory::asset_package('events-css');\r\n    }\r\n}\r\n<\/pre>\n<p><img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.51-AM-1024x611.png\" alt=\"Screen Shot 2016-01-21 at 9.19.51 AM\" width=\"1024\" height=\"611\" class=\"aligncenter size-large wp-image-5359\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.51-AM-1024x611.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.51-AM-550x328.png 550w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.51-AM-768x458.png 768w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/p>\n<p>Make sure you&#8217;ve applied the page template to the page and set the page as the homepage or nothing will work. <\/p>\n"},"excerpt":{"rendered":"<p>Because I&#8217;ve been messing with The Events Calendar for the RVArts project, along came another conversation where that plugin seemed like a good answer. It answered all their needs except for one &#8211; the wanted to have the month view of events be the homepage for the site. I knew that didn&#8217;t happen natively but I figured I could do it. The first step is to create a custom page template. There are a number of tutorials on how to do that. I usually just duplicate the page template for the theme I&#8217;m using as a parent and go from there. The one I&#8217;m using is below. The Events Calendar has this nice function (tribe_show_month) which&#8217;ll pull the month&#8217;s data by default. That&#8217;ll get you something that looks like below (depending on your theme). It&#8217;s the right content but it&#8217;s not applying the same CSS\/JS that&#8217;s on the regular month view. You could go in and rewrite CSS and JS etc. but that would suck for this particular project. It turns out you have to enqueue the right stuff and this post was so very helpful in telling what to enqueue. I updated it to the newer functions and presto everything worked just like the normal month events view. It goes into my child theme&#8217;s functions.php. This particular version only [&hellip;]<\/p>\n"},"author":1,"featured_media":5361,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[65,66],"tags":[584,359,583],"better_featured_image":{"id":5361,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":1024,"height":612,"file":"2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1.png","sizes":{"thumbnail":{"file":"Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-150x150.png","width":150,"height":150,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-150x150.png"},"medium":{"file":"Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-550x329.png","width":550,"height":329,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-550x329.png"},"medium_large":{"file":"Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-768x459.png","width":768,"height":459,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-768x459.png"},"large":{"file":"Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-1024x612.png","width":1024,"height":612,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1-1024x612.png"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0,"keywords":[]}},"post":5357,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612-1.png"},"URL_count":["7"],"word_count":["390"],"URL_array":["a:7:{i:0;a:2:{i:0;s:52:\"\"https:\/\/wordpress.org\/plugins\/the-events-calendar\/\"\";i:1;s:42:\"wordpress.org\/plugins\/the-events-calendar\/\";}i:1;a:2:{i:0;s:19:\"\"http:\/\/rvarts.org\"\";i:1;s:10:\"rvarts.org\";}i:2;a:2:{i:0;s:99:\"\"https:\/\/developer.wordpress.org\/themes\/template-files-section\/page-template-files\/page-templates\/\"\";i:1;s:89:\"developer.wordpress.org\/themes\/template-files-section\/page-template-files\/page-templates\/\";}i:3;a:2:{i:0;s:58:\"\"https:\/\/theeventscalendar.com\/function\/tribe_show_month\/\"\";i:1;s:48:\"theeventscalendar.com\/function\/tribe_show_month\/\";}i:4;a:2:{i:0;s:104:\"\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612.png\"\";i:1;s:95:\"bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.36-AM-1024x612.png\";}i:5;a:2:{i:0;s:91:\"\"http:\/\/computerhelperzz.blogspot.com\/2014\/01\/how-to-add-events-calendar-to-wordpress.html\"\";i:1;s:82:\"computerhelperzz.blogspot.com\/2014\/01\/how-to-add-events-calendar-to-wordpress.html\";}i:6;a:2:{i:0;s:104:\"\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.51-AM-1024x611.png\"\";i:1;s:95:\"bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-21-at-9.19.51-AM-1024x611.png\";}}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5357"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5357"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5357\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/5361"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5357"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5357"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5357"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":5339,"date":"2016-01-17T23:08:18","date_gmt":"2016-01-18T04:08:18","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5339"},"modified":"2016-01-17T23:08:18","modified_gmt":"2016-01-18T04:08:18","slug":"rvarts-dealing-with-dates-in-wordpress","type":"post","link":"http:\/\/bionicteaching.com\/rvarts-dealing-with-dates-in-wordpress\/","title":{"rendered":"RVArts &#8211; Dealing with Dates in WordPress"},"content":{"rendered":"<p>We have an awesome general education course starting this semester called Cultural Passport (aka <a href=\"http:\/\/rvarts.org\">RVArts<\/a>). The goal is to get students involved with the community&#8217;s cultural events &#8211; participating, promoting, reviewing them. The web side of this ends up being pretty interesting. See their video below for more details on the course.  <\/p>\n<p><iframe src=\"https:\/\/player.vimeo.com\/video\/151687820\" width=\"1140\" height=\"641\" frameborder=\"0\" title=\"RVArts: Cultural Passport\" webkitallowfullscreen mozallowfullscreen allowfullscreen><\/iframe><\/p>\n<p>When we started this conversation last year, I thought I was going to go the <a href=\"http:\/\/augmenting.me\/time\/add-event\/\">Gravity Form submission route<\/a><sup id=\"citation-5339-1\" class=\"footnote\"><a href=\"#footnote-5339-1\">1<\/a><\/sup> and use<a href=\"http:\/\/bionicteaching.com\/more-dates-in-wordpress\/\"> a js library<\/a> to make it possible to add the events to various calendars. <\/p>\n<p>Like most projects, particulars shifted and we started changing things pretty radically right before winter break. We ended up shooting for full WordPress editor access for students to create events and the desire to write three different types of responses (interviews, reviews, and features) that would be associated with a specific event. Also, like most projects, this was all a bit beyond what I&#8217;d ever done before. <\/p>\n<p>I started off thinking I&#8217;d create a custom post type for events. I was trying to make up my mind between using <a href=\"http:\/\/www.advancedcustomfields.com\/\">Advanced Custom Fields<\/a> and <a href=\"https:\/\/github.com\/WebDevStudios\/CMB2\">CMB<\/a> to help do that when I realized I hadn&#8217;t really thought about repeat events. The complexities involved there really made me rethink my decision to do this from scratch. <\/p>\n<p>After that I started trying various plugins and eventually decided that <a href=\"https:\/\/theeventscalendar.com\/product\/wordpress-events-calendar-pro\/\">Events Calendar Pro<\/a> would let me deal with repeating events with the most flexibility. Their free version (<a href=\"https:\/\/wordpress.org\/plugins\/the-events-calendar\/\">The Events Calendar<\/a>) is high quality too but lacks the repeated events capability and it&#8217;d be much harder to add some custom meta elements.<\/p>\n<p>The desire on the front page was to show all the events occurring that day and the upcoming events for the week further down on the page. That meant two query loops, the first finding today&#8217;s date and finding anything that started on that day and the second finding anything that occurred in the next seven days.<\/p>\n<p>After a bit of filling things with fake data, we found that repeated events had a tendency to take things over (a 30 day run of a museum exhibit for instance). There were a few ways to deal with this. You can filter out all events created using the repeat event creation option. That had the potential to get us in trouble with shorter run events of just a few days. We opted to create an additional category (long term) and use that when we wanted to opt the event out of the main display loops. That also gave us the benefit of additional flexibility down the road because we can remove that category from individual events (like the last few days) rather than say all 30 days of the event. <\/p>\n<p>The loop below uses the <a href=\"https:\/\/theeventscalendar.com\/knowledgebase\/using-tribe_get_events\/\">tribe_get_events<\/a> function. The whole front page setup can be seen <a href=\"https:\/\/github.com\/woodwardtw\/rvarts_\/blob\/master\/custom-page.php\">here<\/a>. That pattern let me set the other two loops.<\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php \r\n\/\/what is today\r\n$now = date(&quot;Y-m-d&quot;);\r\n\/\/get the right events\r\n$proj_events = tribe_get_events( array(\r\n\t\t'start_date'     =&gt; date( 'Y-m-d' . 'T00:00:01'), \r\n\t\t'end_date'       =&gt; date( 'Y-m-d' . 'T23:59:59'),\r\n\t\t'eventDisplay'   =&gt; 'custom',\r\n\t\t'posts_per_page' =&gt; -1,  \/\/get all of them\r\n\t\t'tax_query'=&gt; array(\r\n                array(\r\n                    'taxonomy' =&gt; 'tribe_events_cat',\r\n                    'field' =&gt; 'slug',\r\n                    'terms' =&gt; 'long-term',  \/\/don't get the ones in the long term category\r\n                    'operator' =&gt; 'NOT IN',\r\n                )\r\n            )\r\n\t), true ); \r\n\t?&gt;\r\n<\/pre>\n<p>I opted to use the <a href=\"http:\/\/themekraft.com\/tk-wordpress-bootstrap-starter-theme\/\">_tk WordPress starter theme<\/a>. It&#8217;s based on Bootstrap. I tried a few other starter themes for other formats but I still don&#8217;t quite have the right workflow for some of the SASS stuff down and I was struggling with enough new things at that moment. <\/p>\n<p>I did find a decent little CSS trick to help you see how the Bootstrap grid is playing out in real life. You can see it in pink in the image below. <\/p>\n<pre class=\"brush: css; title: ; notranslate\" title=\"\">\r\n[class^=&quot;col&quot;] {\r\n    background-color: rgba(255, 0, 0, 0.3);\r\n}\r\n<\/pre>\n<p><img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693.png\" alt=\"Screen Shot 2016-01-17 at 10.03.22 PM\" width=\"1024\" height=\"693\" class=\"aligncenter size-large wp-image-5341\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-550x372.png 550w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-768x520.png 768w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><br \/>\nYou can see today&#8217;s events being put in <span class=\"highlight\">.col-md-4<\/span> (1\/3 of the available space at medium resolutions and higher) and the events for the upcoming week being put in <span class=\"highlight\">.col-md-2<\/span> (1\/6 of the available space at medium resolutions and higher). <\/p>\n<p>I&#8217;m sure I&#8217;m butchering a few things with the CSS and I continue to work on it but it&#8217;s decent at a variety of screen sizes. I need to work on a better pattern of naming and start at the mobile size first next time around. I do love that <a href=\"https:\/\/www.google.com\/chrome\/browser\/canary.html\">Google Canary<\/a> lets you preview the site in all sorts of screen\/device setups.<br \/>\n<a data-flickr-embed=\"true\"  href=\"https:\/\/www.flickr.com\/photos\/bionicteaching\/24155440570\/in\/dateposted-public\/\" title=\"Google Canary Mobile Views\"><img src=\"https:\/\/farm2.staticflickr.com\/1474\/24155440570_90ea036efc_c.jpg\" width=\"800\" height=\"500\" alt=\"Google Canary Mobile Views\"><\/a><script async src=\"\/\/embedr.flickr.com\/assets\/client-code.js\" charset=\"utf-8\"><\/script><\/p>\n<p>The next piece was to look at the individual events and tie in a few things.<br \/>\n<a data-flickr-embed=\"true\"  href=\"https:\/\/www.flickr.com\/photos\/bionicteaching\/24155567760\/in\/dateposted-public\/\" title=\"RVArts single event\"><img src=\"https:\/\/farm2.staticflickr.com\/1661\/24155567760_ed9fd9263a_c.jpg\" width=\"800\" height=\"652\" alt=\"RVArts single event\"><\/a><script async src=\"\/\/embedr.flickr.com\/assets\/client-code.js\" charset=\"utf-8\"><\/script><br \/>\nThis isn&#8217;t the best view as I just zoomed out until you could see most things. The semi-interesting part is taking the hashtag assigned as an additional field option for each event and using that in the Twitter button and in associating the review\/interview\/featured posts with this particular post. <\/p>\n<p>The hashtag field comes in as $value through the  and is used in this section twice. Once, in the Twitter code and once to display the code in the view in case we wanted to use it in some way. This was done by altering the additional-fields.php file that comes with the Events Calendar Pro plugin. You can override these plugin options kind of like making a child theme- you make a (roughly) parallel folder structure in your theme and copy the file over from the plugin and make your changes there. Events Calendar Pro does help you out by telling you were to put the override file at the top of their plugin files. In this case I&#8217;m adding it at tribe-events>pro>modules>meta>additional-fields.php. <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n\t\t\t&lt;!-- Twitter button --&gt;\r\n\t\t\t &lt;a href=&quot;https:\/\/twitter.com\/share&quot; class=&quot;twitter-share-button&quot;{count} data-url=&quot;&lt;?php tribe_get_events_link() ?&gt;&quot; data-text=&quot;I'm at &lt;?php the_title();?&gt;&quot; data-via=&quot;RVA2Z&quot; data-size=&quot;large&quot; data-hashtags=&quot;rvarts, &lt;?php echo $value;?&gt; &quot;&gt;Tweet&lt;\/a&gt;\r\n&lt;script&gt;!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=\/^http:\/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+':\/\/platform.twitter.com\/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');&lt;\/script&gt;\r\n\t\t\t\t&lt;div class=&quot;tweet-term&quot;&gt;\r\n\t\t\t\t&lt;?php\r\n\t\t\t\t\/\/ This can hold HTML. The values are cleansed upstream\r\n\t\t\t\techo &quot;#&quot;.$value;\r\n\t\t\t\t?&gt;\r\n<\/pre>\n<p>The next step was to figure out a decent way for students to associate their reviews\/interviews\/features with this particular event. Ordinarily, I&#8217;d do this through a Gravity Form as it solves the issues around putting in the right categories\/tags but it doesn&#8217;t give students the full options they&#8217;d have inside WordPress (uploading multiple images for instance). I opted to do something in the middle this time and created a button that only shows up for logged in users. It puts their post in the appropriate category (reviews\/interviews\/features), adds the assigned hashtag to associate it with the particular event and then moves them into the editor window to write the post with that content pre-populated. <\/p>\n<p>The chunk below pulls content from two categories (reviews and gold). Gold is the category that the instructors are using to approve the content. The use of the Gold category is restricted to admins by the <a href=\"https:\/\/wordpress.org\/plugins\/restrict-categories\/\">Restrict Categories<\/a> plugin. <\/p>\n<p>The loop only shows the first two posts and doesn&#8217;t show the button if two posts have been approved. That&#8217;s done to encourage people to cover lots of different events. <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php\r\n\r\n\t\t\t\t\t\/\/ The Reviews Query + the hashtag - shows only the first two submitted\r\n\t\t\t\t\t$args = array( \r\n\t\t\t\t\t\t'category_name' =&gt; 'reviews+gold',\r\n\t\t\t\t\t\t'tag' =&gt; $value,\r\n\t\t\t\t\t\t'posts_per_page' =&gt; 2,\r\n\t\t\t\t\t\t'order' =&gt; 'ASC',\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t$the_query = new WP_Query( $args );\r\n\t\t\t\t\t\/\/only display option to write a post if user is logged in\t\r\n\t\t\t\t\tif ( is_user_logged_in() ) {\r\n\r\n\t\t\t\t\t\t$found_posts = $the_query-&gt;found_posts;\r\n\t\t\t\t\t\t$writesomething = 'We need 2 posts but found ' . $found_posts . '. You should write one.';\r\n\r\n\t\t\t\t\t\t\tif ($found_posts &lt; 2) {\r\n\t\t\t\t\t\t\t\t$formurl = site_url('\/wp-content\/themes\/rvarts\/create_post.php');\r\n\t\t\t\t\t\t\t\techo $writesomething;\r\n\t\t\t\t\t\t\t\techo '&lt;br\/&gt;\r\n\t\t\t\t\t\t\t\t&lt;form action=&quot;'.htmlspecialchars( $formurl ).'&quot; method=&quot;post&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;postcategory&quot; value=&quot;reviews&quot;&gt; \r\n\t\t\t\t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;posttag&quot; value=&quot;'. $value .'&quot;&gt; \r\n\t\t\t\t\t\t\t\t&lt;input type=&quot;submit&quot; class=&quot;button&quot; name=&quot;submit&quot; value=&quot;Write a review&quot; \/&gt;\r\n\t\t\t\t\t\t\t\t&lt;\/form&gt;\r\n\t\t\t\t\t\t\t\t';\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\/\/just roll on\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\/\/ The Loop\r\n\t\t\t\t\tif ( $the_query-&gt;have_posts() ) {\r\n\t\t\t\t\t\twhile ( $the_query-&gt;have_posts() ) {\r\n\t\t\t\t\t\t\t$the_query-&gt;the_post();\r\n\t\t\t\t\t\t\techo '&lt;a href=&quot;' . get_the_permalink() . '&quot;&gt;&lt;div class=&quot;review&quot;&gt;';\r\n\t\t\t\t\t\t\techo  the_post_thumbnail('thumbnail' , array( 'class' =&gt; 'alignleft' )) . '&lt;br\/&gt;&lt;h3&gt;' . get_the_title() . '&lt;\/h3&gt;&lt;div class=&quot;review_excerpt&quot;&gt;' . get_the_excerpt() . &quot; . . . &lt;br\/&gt; (click for more)&quot;;\r\n\t\t\t\t\t\t\techo '&lt;\/div&gt;&lt;\/div&gt;&lt;\/a&gt;';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\/\/ no posts found\r\n\t\t\t\t\t\techo 'No posts found';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\/* Restore original Post Data *\/\r\n\t\t\t\t\twp_reset_postdata();\r\n\r\n\t\t\t\t\t?&gt;\r\n\t\t\t&lt;\/dd&gt;\r\n\t\t&lt;\/dl&gt;\r\n&lt;\/div&gt;\t\r\n\r\n<\/pre>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-5339-1\"><sup><a href=\"#citation-5339-1\">1<\/a><\/sup> I thought I wrote a full tutorial on this but can&#8217;t find it. I often have unrealized good intentions though . . .  <\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>We have an awesome general education course starting this semester called Cultural Passport (aka RVArts). The goal is to get students involved with the community&#8217;s cultural events &#8211; participating, promoting, reviewing them. The web side of this ends up being pretty interesting. See their video below for more details on the course. When we started this conversation last year, I thought I was going to go the Gravity Form submission route1 and use a js library to make it possible to add the events to various calendars. Like most projects, particulars shifted and we started changing things pretty radically right before winter break. We ended up shooting for full WordPress editor access for students to create events and the desire to write three different types of responses (interviews, reviews, and features) that would be associated with a specific event. Also, like most projects, this was all a bit beyond what I&#8217;d ever done before. I started off thinking I&#8217;d create a custom post type for events. I was trying to make up my mind between using Advanced Custom Fields and CMB to help do that when I realized I hadn&#8217;t really thought about repeat events. The complexities involved there really made me rethink my decision to do this from scratch. After that I started trying various plugins and eventually decided [&hellip;]<\/p>\n"},"author":1,"featured_media":5344,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[65,66],"tags":[581,359,582],"better_featured_image":{"id":5344,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":1024,"height":693,"file":"2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1.png","sizes":{"thumbnail":{"file":"Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-150x150.png","width":150,"height":150,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-150x150.png"},"medium":{"file":"Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-550x372.png","width":550,"height":372,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-550x372.png"},"medium_large":{"file":"Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-768x520.png","width":768,"height":520,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-768x520.png"},"large":{"file":"Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-1024x693.png","width":1024,"height":693,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1-1024x693.png"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0,"keywords":[]}},"post":5339,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693-1.png"},"URL_count":["17"],"word_count":["1586"],"URL_array":["a:17:{i:0;a:2:{i:0;s:19:\"\"http:\/\/rvarts.org\"\";i:1;s:10:\"rvarts.org\";}i:1;a:2:{i:0;s:38:\"\"http:\/\/augmenting.me\/time\/add-event\/\"\";i:1;s:29:\"augmenting.me\/time\/add-event\/\";}i:2;a:2:{i:0;s:52:\"\"http:\/\/bionicteaching.com\/more-dates-in-wordpress\/\"\";i:1;s:43:\"bionicteaching.com\/more-dates-in-wordpress\/\";}i:3;a:2:{i:0;s:38:\"\"http:\/\/www.advancedcustomfields.com\/\"\";i:1;s:29:\"www.advancedcustomfields.com\/\";}i:4;a:2:{i:0;s:39:\"\"https:\/\/github.com\/WebDevStudios\/CMB2\"\";i:1;s:29:\"github.com\/WebDevStudios\/CMB2\";}i:5;a:2:{i:0;s:70:\"\"https:\/\/theeventscalendar.com\/product\/wordpress-events-calendar-pro\/\"\";i:1;s:60:\"theeventscalendar.com\/product\/wordpress-events-calendar-pro\/\";}i:6;a:2:{i:0;s:52:\"\"https:\/\/wordpress.org\/plugins\/the-events-calendar\/\"\";i:1;s:42:\"wordpress.org\/plugins\/the-events-calendar\/\";}i:7;a:2:{i:0;s:69:\"\"https:\/\/theeventscalendar.com\/knowledgebase\/using-tribe_get_events\/\"\";i:1;s:59:\"theeventscalendar.com\/knowledgebase\/using-tribe_get_events\/\";}i:8;a:2:{i:0;s:67:\"\"https:\/\/github.com\/woodwardtw\/rvarts_\/blob\/master\/custom-page.php\"\";i:1;s:57:\"github.com\/woodwardtw\/rvarts_\/blob\/master\/custom-page.php\";}i:9;a:2:{i:0;s:61:\"\"http:\/\/themekraft.com\/tk-wordpress-bootstrap-starter-theme\/\"\";i:1;s:52:\"themekraft.com\/tk-wordpress-bootstrap-starter-theme\/\";}i:10;a:2:{i:0;s:105:\"\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693.png\"\";i:1;s:96:\"bionicteaching.com\/wp-content\/uploads\/2016\/01\/Screen-Shot-2016-01-17-at-10.03.22-PM-1024x693.png\";}i:11;a:2:{i:0;s:51:\"\"https:\/\/www.google.com\/chrome\/browser\/canary.html\"\";i:1;s:41:\"www.google.com\/chrome\/browser\/canary.html\";}i:12;a:2:{i:0;s:80:\"\"https:\/\/www.flickr.com\/photos\/bionicteaching\/24155440570\/in\/dateposted-public\/\"\";i:1;s:70:\"www.flickr.com\/photos\/bionicteaching\/24155440570\/in\/dateposted-public\/\";}i:13;a:2:{i:0;s:66:\"\"https:\/\/farm2.staticflickr.com\/1474\/24155440570_90ea036efc_c.jpg\"\";i:1;s:56:\"farm2.staticflickr.com\/1474\/24155440570_90ea036efc_c.jpg\";}i:14;a:2:{i:0;s:80:\"\"https:\/\/www.flickr.com\/photos\/bionicteaching\/24155567760\/in\/dateposted-public\/\"\";i:1;s:70:\"www.flickr.com\/photos\/bionicteaching\/24155567760\/in\/dateposted-public\/\";}i:15;a:2:{i:0;s:66:\"\"https:\/\/farm2.staticflickr.com\/1661\/24155567760_ed9fd9263a_c.jpg\"\";i:1;s:56:\"farm2.staticflickr.com\/1661\/24155567760_ed9fd9263a_c.jpg\";}i:16;a:2:{i:0;s:52:\"\"https:\/\/wordpress.org\/plugins\/restrict-categories\/\"\";i:1;s:42:\"wordpress.org\/plugins\/restrict-categories\/\";}}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5339"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5339"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5339\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/5344"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5339"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5339"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5339"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":5259,"date":"2015-11-25T23:05:34","date_gmt":"2015-11-26T04:05:34","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5259"},"modified":"2015-11-25T23:05:34","modified_gmt":"2015-11-26T04:05:34","slug":"openuptru-simpler-wordpress-writing-poc","type":"post","link":"http:\/\/bionicteaching.com\/openuptru-simpler-wordpress-writing-poc\/","title":{"rendered":"#openupTRU &#8211; Simpler WordPress Writing POC"},"content":{"rendered":"<p><a href=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM.png\"><img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x770.png\" alt=\"collapsed sidebar and button view that the plugin generates\" width=\"1024\" height=\"770\" class=\"aligncenter size-large wp-image-5261\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x770.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-550x414.png 550w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/p>\n<p>I&#8217;ve had a number of requests to simplify WordPress, to make it more Tumblr like. I get that. It was mentioned again while I was at <a href=\"http:\/\/www.tru.ca\/\">Thompson Rivers University<\/a> and that inspired me to get it done. <\/p>\n<p>WordPress has a lot more complexity than Tumblr and that allows you to do a lot more. Doing complex things often requires tools with some complexity. The thing that interests me is when and how you make that complexity visible.<sup id=\"citation-5259-1\" class=\"footnote\"><a href=\"#footnote-5259-1\">1<\/a><\/sup> So could we do something more Tumblr like in WordPress? <\/p>\n<p>There are certainly ways to completely re-write the dashboard and to set up user roles that only have limited kinds of access. That seems a bit heavy-handed to me and I don&#8217;t want to wall this stuff off. I simply want to make things very accessible to inexperienced users. The full re-write is also somewhat beyond what I have the time to do. I could take the time but in &#8220;innovation&#8221; land time is energy lost and I must ride the mixed-metaphor wave of getting stuff done fast. So in the time honored spirit of throwing stuff together with duct tape, I offer this for consideration. <\/p>\n<p>WordPress does have a simplified authoring view. Really. You can activate it using the <a href=\"https:\/\/codex.wordpress.org\/Press_This\">&#8216;Press This&#8217; bookmarklet<\/a> and despite a slick revamp in WP 4.2 virtually no one uses it. Now wouldn&#8217;t it be cool if I could just call that interface up using a nice big graphic button in the WordPress dashboard? <\/p>\n<p>It turns out I can and with only the tiniest bit of brains left to me after leaving Canada this morning at 5:30 and getting in a hour or two ago. Keep in mind this is fast and dirty. Even I would want to clean it up considerably before using it. <\/p>\n<p>Step one- find <a href=\"https:\/\/premium.wpmudev.org\/blog\/adding-custom-widgets-to-the-wordpress-admin-dashboard\/\">a tutorial on adding stuff to the WordPress dashboard<\/a>.<sup id=\"citation-5259-2\" class=\"footnote\"><a href=\"#footnote-5259-2\">2<\/a><\/sup><\/p>\n<p>Step two- find the URL to the &#8216;Press This&#8217; editor view. Turns out it&#8217;s the super-obvious http:\/\/YOURSITE.ORG\/wp-admin\/press-this.php<\/p>\n<p>Step three- find <a href=\"http:\/\/codeitdown.com\/css-round-buttons\/\">some example CSS for a round button<\/a> because I&#8217;m tired.<sup id=\"citation-5259-3\" class=\"footnote\"><a href=\"#footnote-5259-3\">3<\/a><\/sup><\/p>\n<p>Step four- Realize that part of what makes the dashboard feel overwhelming is the sidebar. Look for a way to make that collapse and <a href=\"http:\/\/stackoverflow.com\/questions\/28567965\/how-to-make-wordpress-admin-menu-collapsed-by-default\">find it on the wonderful StackOverflow<\/a>.<\/p>\n<p>Step five- throw those two functions in a plugin and use it. <\/p>\n<p><script src=\"https:\/\/gist.github.com\/woodwardtw\/49ccf90e56f81121d9c9.js\"><\/script><\/p>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-5259-1\"><sup><a href=\"#citation-5259-1\">1<\/a><\/sup> That&#8217;s a big, big question but this expression of it is realistic.<\/p>\n<p id=\"footnote-5259-2\"><sup><a href=\"#citation-5259-2\">2<\/a><\/sup> Attempt to make it the first item but realize you&#8217;re just too tired and drag it up there instead for the moment.<\/p>\n<p id=\"footnote-5259-3\"><sup><a href=\"#citation-5259-3\">3<\/a><\/sup> Realize your custom CSS plugin doesn&#8217;t apply to the dashboard and throw it in as inline CSS despite the shame you feel.<\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>I&#8217;ve had a number of requests to simplify WordPress, to make it more Tumblr like. I get that. It was mentioned again while I was at Thompson Rivers University and that inspired me to get it done. WordPress has a lot more complexity than Tumblr and that allows you to do a lot more. Doing complex things often requires tools with some complexity. The thing that interests me is when and how you make that complexity visible.1 So could we do something more Tumblr like in WordPress? There are certainly ways to completely re-write the dashboard and to set up user roles that only have limited kinds of access. That seems a bit heavy-handed to me and I don&#8217;t want to wall this stuff off. I simply want to make things very accessible to inexperienced users. The full re-write is also somewhat beyond what I have the time to do. I could take the time but in &#8220;innovation&#8221; land time is energy lost and I must ride the mixed-metaphor wave of getting stuff done fast. So in the time honored spirit of throwing stuff together with duct tape, I offer this for consideration. WordPress does have a simplified authoring view. Really. You can activate it using the &#8216;Press This&#8217; bookmarklet and despite a slick revamp in WP 4.2 virtually no [&hellip;]<\/p>\n"},"author":1,"featured_media":5263,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[66],"tags":[580,359],"better_featured_image":{"id":5263,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":1024,"height":770,"file":"2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701.png","sizes":{"thumbnail":{"file":"Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701-150x150.png","width":150,"height":150,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701-150x150.png"},"medium":{"file":"Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701-550x414.png","width":550,"height":414,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701-550x414.png"},"large":{"file":"Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701-1024x770.png","width":1024,"height":770,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701-1024x770.png"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0}},"post":5259,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x7701.png"},"URL_count":["8"],"word_count":["440"],"URL_array":["a:8:{i:0;a:2:{i:0;s:96:\"\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM.png\"\";i:1;s:87:\"bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM.png\";}i:1;a:2:{i:0;s:105:\"\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x770.png\"\";i:1;s:96:\"bionicteaching.com\/wp-content\/uploads\/2015\/11\/Screen-Shot-2015-11-25-at-10.53.07-PM-1024x770.png\";}i:2;a:2:{i:0;s:20:\"\"http:\/\/www.tru.ca\/\"\";i:1;s:11:\"www.tru.ca\/\";}i:3;a:2:{i:0;s:40:\"\"https:\/\/codex.wordpress.org\/Press_This\"\";i:1;s:30:\"codex.wordpress.org\/Press_This\";}i:4;a:2:{i:0;s:90:\"\"https:\/\/premium.wpmudev.org\/blog\/adding-custom-widgets-to-the-wordpress-admin-dashboard\/\"\";i:1;s:80:\"premium.wpmudev.org\/blog\/adding-custom-widgets-to-the-wordpress-admin-dashboard\/\";}i:5;a:2:{i:0;s:42:\"\"http:\/\/codeitdown.com\/css-round-buttons\/\"\";i:1;s:33:\"codeitdown.com\/css-round-buttons\/\";}i:6;a:2:{i:0;s:99:\"\"http:\/\/stackoverflow.com\/questions\/28567965\/how-to-make-wordpress-admin-menu-collapsed-by-default\"\";i:1;s:90:\"stackoverflow.com\/questions\/28567965\/how-to-make-wordpress-admin-menu-collapsed-by-default\";}i:7;a:2:{i:0;s:60:\"\"https:\/\/gist.github.com\/woodwardtw\/49ccf90e56f81121d9c9.js\"\";i:1;s:50:\"gist.github.com\/woodwardtw\/49ccf90e56f81121d9c9.js\";}}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5259"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5259"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5259\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/5263"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5259"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5259"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5259"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":5175,"date":"2015-10-19T11:43:40","date_gmt":"2015-10-19T16:43:40","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5175"},"modified":"2015-10-19T11:51:16","modified_gmt":"2015-10-19T16:51:16","slug":"wordpress-reflection-plugin-step-1-counting-links","type":"post","link":"http:\/\/bionicteaching.com\/wordpress-reflection-plugin-step-1-counting-links\/","title":{"rendered":"WordPress Reflection Plugin &#8211; Step 1 &#8211; Counting Links"},"content":{"rendered":"<p><a href=\"http:\/\/bionicteaching.com\/tools\/postmeta.html\"><img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x690.png\" alt=\"Screen Shot 2015-10-19 at 12.22.13 PM\" width=\"1024\" height=\"690\" class=\"aligncenter size-large wp-image-5179\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x690.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-550x371.png 550w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/p>\n<p>The idea that technology ought to help students reflect on their use of technology seems to make sense. As we have more and more students engaging in online writing little things come to light. Take the humble\/magical hyperlink for example. We often look at the use of hyperlinks as a marker for progress in digital fluency. Are students using the thing that makes the web so webby? Can we help make that a point of reflection for them?<sup id=\"citation-5175-1\" class=\"footnote\"><a href=\"#footnote-5175-1\">1<\/a><\/sup> I had a conversation with <a href=\"https:\/\/twitter.com\/googleguacamole\">Laura<\/a> a while back about pulling out URLs and looking at the their use over time by students.<sup id=\"citation-5175-2\" class=\"footnote\"><a href=\"#footnote-5175-2\">2<\/a><\/sup> Clearly, these aren&#8217;t pure quantitative things. You&#8217;ll never say &#8220;Six links? Failure!&#8221; or even &#8220;Seventy four links? That&#8217;s an A+.&#8221; Not that I would ever think that about you but this is on the Internet and I don&#8217;t want anyone tying hyperlink numbers to Bloom&#8217;s levels and then linking to me. But it would be interesting to look back over your writing and see when you use lots of links and when you don&#8217;t. So, at the moment, that&#8217;s what this plugin does. It&#8217;ll do some more tricks in the future but these are early days. <\/p>\n<p>The plugin as it sits now (below) will do three things. It&#8217;ll run a regex on the post and store all the URLs it finds as an array in a custom field named URL_array. It&#8217;ll count how many links are in that array and store that number as a custom field named URL_count. Finally, it&#8217;ll also count how many words are in the post and store that number in a field named word_count. I threw that last one in there because I thought the word\/link ratio might be worth looking at at some point. <\/p>\n<p>Right now, the plugin is triggered anytime a post is saved\/edited\/published. That works fine going for posts that haven&#8217;t been written yet but isn&#8217;t great for applying to sites that already have lots of content. I don&#8217;t believe it&#8217;ll be a big deal to figure how to run it against already published posts but I&#8217;ve yet to do it. My temporary workaround as I&#8217;ve demo&#8217;d it on my own site was to bulk edit posts and add a tag. I did that on two pages worth of posts to get around 40 posts with the plugin data. I then deleted the tag. Not pretty but it works- which may become my motto.<sup id=\"citation-5175-3\" class=\"footnote\"><a href=\"#footnote-5175-3\">3<\/a><\/sup><\/p>\n<p>So, now what we&#8217;ve attached these three chunks of data to a post what can we do? Well, lots of stuff. <\/p>\n<p><a href=\"http:\/\/bionicteaching.com\/tools\/postmeta.html\">This particular example<\/a> is built around a few things. <\/p>\n<ul>\n<li><a href=\"http:\/\/v2.wp-api.org\/\">The JSON V2 API<\/a> WP plugin &#8211; you could do this in lots of other ways but since JSON is the future\/now, I&#8217;m trying to get a better handle on it<\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/rest-api-enabler\/\">Rest API Enabler<\/a> WP plugin &#8211; allows you to make custom fields visible in the JSON easily. I had to <a href=\"https:\/\/wordpress.org\/support\/topic\/undefined-function-get_post_meta_checked-line-421?replies=1\">modify the plugin a bit<\/a> to make it work.<\/li>\n<li><a href=\"https:\/\/angularjs.org\/\">Angular<\/a> javascript framework &#8211; <a href=\"http:\/\/luetkemj.github.io\/150826\/wordpress-and-angular\/\">Mark<\/a> got me started messing with Angular and I&#8217;ve continued. This could all be done in PHP or anything else you wanted.<\/li>\n<\/ul>\n<p><a href=\"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30\">Here is the raw<sup id=\"citation-5175-4\" class=\"footnote\"><a href=\"#footnote-5175-4\">4<\/a><\/sup> JSON<\/a> with the API enabler making the custom fields visible. Now that we&#8217;ve made the data accessible (for 30 posts) anyway, we can start to manipulate it. <\/p>\n<p>Angular lets us pull in the feed &#8211; <a href=\"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30\">http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30<\/a> &#8211; and then loop through it pretty simply. The CSS to make stuff into bars is directly from <a href=\"http:\/\/geoffgraham.me\/css-bar-chart-using-html5-progress\/\">here<\/a> which I borrowed from <a href=\"http:\/\/cogdogblog.com\">Alan<\/a> based on an <a href=\"https:\/\/twitter.com\/twoodwar\/statuses\/651475826920194048?tw_i=651475826920194048&#038;tw_e=permalink&#038;tw_p=archive\">earlier unrelated Twitter conversation<\/a>. <a href=\"https:\/\/gist.github.com\/woodwardtw\/99a1eb899e1c20cf10f1\">The full page is here<\/a> if you want it. I&#8217;ll be either integrating it into the plugin or making it a tool that&#8217;ll fill with your data via URL parameters in the next few days. <\/p>\n<h2>Get It<\/h2>\n<pre class=\"brush: jscript; title: ; notranslate\" title=\"\">\r\n\r\nvar app = angular.module('myApp', ['ngSanitize']);\r\n$gURL = &quot;http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30&quot;;\r\napp.controller('SuperCtrl', function($scope, $http) {\r\n    $http.get($gURL)\r\n    .success(function(response) {$scope.entries = response;});\r\n});\r\n\r\n<\/pre>\n<h2>Loop Through It<\/h2>\n<pre class=\"brush: xml; title: ; notranslate\" title=\"\">\r\n&lt;ul class=&quot;skill-list&quot;&gt;\r\n\r\n &lt;div ng-repeat=&quot;entry in entries | filter: search | orderBy:'date' : 'reverse'&quot;  class=&quot;col-md-10 col-md-offset-2&quot;&gt;\r\n      &lt;div ng-bind-html=&quot;entry&quot;&gt;\r\n    \t  &lt;li class=&quot;skill&quot;&gt;\r\n   \t\t\t &lt;h3&gt;&lt;a href=&quot;{{ entry.link }}&quot;&gt;&lt;span ng-bind-html=&quot;entry.title.rendered&quot;&gt;{{ entry.title.rendered }}&lt;\/span&gt;&lt;\/a&gt; - {{ entry.URL_count[0] }} URLs &amp; {{ entry.word_count[0] }} words&lt;\/h3&gt;\r\n    \t\t\t&lt;progress class=&quot;skill-1&quot; max=&quot;100&quot; value=&quot;{{ entry.URL_count[0] }}&quot;&gt;&lt;!-- these get stored as arrays even though they're one item, which might be my mistake, adding [0] just displays it as a string --&gt;\r\n    \t\t \t\t &lt;strong&gt; URLs: {{ entry.URL_count[0] }}%&lt;\/strong&gt;\r\n    \t\t\t&lt;\/progress&gt;\r\n  &lt;\/li&gt;\r\n\r\n      &lt;\/div&gt;\r\n  &lt;\/div&gt;\r\n&lt;\/ul&gt;  \r\n<\/pre>\n<h2>Next Steps<\/h2>\n<p>The next steps are going to be integrating and improving the data visualization elements. I&#8217;d like it to be much more explorable and will probably look at integrating a javascript charting library of some kind. I&#8217;m also going to work at paring the URLs down to their core and counting\/displaying that data. Something like &#8211; You&#8217;ve linked to http:\/\/stackoverflow.com 13 times over 8 posts. I&#8217;m also going to see how hard an admin interface for the plugin would be that would enable a few different options like CSV downloads, striking img URLs etc.<\/p>\n<h2>The Plugin<\/h2>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php\r\n\/*\r\nPlugin Name: URL counter\r\nPlugin URI:  http:\/\/URI_Of_Page_Describing_Plugin_and_Updates\r\nDescription: This describes my plugin in a short sentence\r\nVersion:     .54\r\nAuthor:      Tom Woodward\r\nAuthor URI:  http:\/\/bionicteaching.com\r\nLicense:     GPL2\r\nLicense URI: https:\/\/www.gnu.org\/licenses\/gpl-2.0.html\r\nDomain Path: \/languages\r\nText Domain: my-toolset\r\n\r\n*\/\r\n\r\ndefined( 'ABSPATH' ) or die( 'No script kiddies please!' );\r\n\r\nadd_action('save_post', 'countURLs');\r\nadd_action('draft_to_publish', 'countURLs');\r\nadd_action('pending_to_publish', 'countURLs');\r\nfunction countURLs ($post_id){\r\n\t\t$new_post = get_post($post_id);\r\n\t\t$content = get_post_field( 'post_content', $new_post-&gt;ID );\r\n\t\t\/\/get word count\r\n   \t\t$word_count = str_word_count( strip_tags( $content ) );\r\n   \t\t\/\/regex to get URLS\r\n\t\t$pattern = '&quot;\\&quot;https?:\\\/\\\/([^\\&quot;]*)\\&quot;&quot;';\r\n\t\tpreg_match_all($pattern, $content, $matches, PREG_SET_ORDER);\r\n\t\t\/\/counts the items in the URL array\r\n\t\t$count = (count($matches));\r\n\t\t\/\/actions below write the variables to the various custom fields\r\n\t\tupdate_post_meta($new_post-&gt;ID, 'URL_count', $count);\r\n\t\tupdate_post_meta($new_post-&gt;ID, 'word_count', $word_count );\r\n\t\tupdate_post_meta($new_post-&gt;ID, 'URL_array', $matches );\r\n}\r\n<\/pre>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-5175-1\"><sup><a href=\"#citation-5175-1\">1<\/a><\/sup> Laura is delving into this with much more intent and detail on <a href=\"http:\/\/laurascoloringbook.blogspot.com\/2015\/09\/identifying-connected-learning-course.html\">her blog<\/a> and <a href=\"https:\/\/twitter.com\/googleguacamole\">Twitter<\/a><\/p>\n<p id=\"footnote-5175-2\"><sup><a href=\"#citation-5175-2\">2<\/a><\/sup> It reminds me a bit of a UMW prof who taught a course on social engagement and analyzed active vs passive verbs in students blog posts over a semester.<\/p>\n<p id=\"footnote-5175-3\"><sup><a href=\"#citation-5175-3\">3<\/a><\/sup> &#8220;Non belle sed is officina&#8221; if we trust Google to translate dead languages<\/p>\n<p id=\"footnote-5175-4\"><sup><a href=\"#citation-5175-4\">4<\/a><\/sup> To my knowledge, there is no cooked JSON but it sounds cooler to say it&#8217;s &#8220;raw.&#8221; Imagine Will Ferrel screaming it. Better, right?<\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>The idea that technology ought to help students reflect on their use of technology seems to make sense. As we have more and more students engaging in online writing little things come to light. Take the humble\/magical hyperlink for example. We often look at the use of hyperlinks as a marker for progress in digital fluency. Are students using the thing that makes the web so webby? Can we help make that a point of reflection for them?1 I had a conversation with Laura a while back about pulling out URLs and looking at the their use over time by students.2 Clearly, these aren&#8217;t pure quantitative things. You&#8217;ll never say &#8220;Six links? Failure!&#8221; or even &#8220;Seventy four links? That&#8217;s an A+.&#8221; Not that I would ever think that about you but this is on the Internet and I don&#8217;t want anyone tying hyperlink numbers to Bloom&#8217;s levels and then linking to me. But it would be interesting to look back over your writing and see when you use lots of links and when you don&#8217;t. So, at the moment, that&#8217;s what this plugin does. It&#8217;ll do some more tricks in the future but these are early days. The plugin as it sits now (below) will do three things. It&#8217;ll run a regex on the post and store all the URLs [&hellip;]<\/p>\n"},"author":1,"featured_media":5180,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[66],"tags":[528,359,491,565],"better_featured_image":{"id":5180,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":1024,"height":690,"file":"2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901.png","sizes":{"thumbnail":{"file":"Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901-150x150.png","width":150,"height":150,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901-150x150.png"},"medium":{"file":"Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901-550x371.png","width":550,"height":371,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901-550x371.png"},"large":{"file":"Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901-1024x690.png","width":1024,"height":690,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901-1024x690.png"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0}},"post":5175,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x6901.png"},"URL_count":["17"],"word_count":["1195"],"URL_array":["a:17:{i:0;a:2:{i:0;s:47:\"\"http:\/\/bionicteaching.com\/tools\/postmeta.html\"\";i:1;s:38:\"bionicteaching.com\/tools\/postmeta.html\";}i:1;a:2:{i:0;s:105:\"\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x690.png\"\";i:1;s:96:\"bionicteaching.com\/wp-content\/uploads\/2015\/10\/Screen-Shot-2015-10-19-at-12.22.13-PM-1024x690.png\";}i:2;a:2:{i:0;s:91:\"\"http:\/\/laurascoloringbook.blogspot.com\/2015\/09\/identifying-connected-learning-course.html\"\";i:1;s:82:\"laurascoloringbook.blogspot.com\/2015\/09\/identifying-connected-learning-course.html\";}i:3;a:2:{i:0;s:37:\"\"https:\/\/twitter.com\/googleguacamole\"\";i:1;s:27:\"twitter.com\/googleguacamole\";}i:4;a:2:{i:0;s:37:\"\"https:\/\/twitter.com\/googleguacamole\"\";i:1;s:27:\"twitter.com\/googleguacamole\";}i:5;a:2:{i:0;s:47:\"\"http:\/\/bionicteaching.com\/tools\/postmeta.html\"\";i:1;s:38:\"bionicteaching.com\/tools\/postmeta.html\";}i:6;a:2:{i:0;s:23:\"\"http:\/\/v2.wp-api.org\/\"\";i:1;s:14:\"v2.wp-api.org\/\";}i:7;a:2:{i:0;s:49:\"\"https:\/\/wordpress.org\/plugins\/rest-api-enabler\/\"\";i:1;s:39:\"wordpress.org\/plugins\/rest-api-enabler\/\";}i:8;a:2:{i:0;s:97:\"\"https:\/\/wordpress.org\/support\/topic\/undefined-function-get_post_meta_checked-line-421?replies=1\"\";i:1;s:87:\"wordpress.org\/support\/topic\/undefined-function-get_post_meta_checked-line-421?replies=1\";}i:9;a:2:{i:0;s:24:\"\"https:\/\/angularjs.org\/\"\";i:1;s:14:\"angularjs.org\/\";}i:10;a:2:{i:0;s:57:\"\"http:\/\/luetkemj.github.io\/150826\/wordpress-and-angular\/\"\";i:1;s:48:\"luetkemj.github.io\/150826\/wordpress-and-angular\/\";}i:11;a:2:{i:0;s:74:\"\"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30\"\";i:1;s:65:\"bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30\";}i:12;a:2:{i:0;s:74:\"\"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30\"\";i:1;s:65:\"bionicteaching.com\/wp-json\/wp\/v2\/posts\/?filter[posts_per_page]=30\";}i:13;a:2:{i:0;s:59:\"\"http:\/\/geoffgraham.me\/css-bar-chart-using-html5-progress\/\"\";i:1;s:50:\"geoffgraham.me\/css-bar-chart-using-html5-progress\/\";}i:14;a:2:{i:0;s:23:\"\"http:\/\/cogdogblog.com\"\";i:1;s:14:\"cogdogblog.com\";}i:15;a:2:{i:0;s:110:\"\"https:\/\/twitter.com\/twoodwar\/statuses\/651475826920194048?tw_i=651475826920194048&tw_e=permalink&tw_p=archive\"\";i:1;s:100:\"twitter.com\/twoodwar\/statuses\/651475826920194048?tw_i=651475826920194048&tw_e=permalink&tw_p=archive\";}i:16;a:2:{i:0;s:57:\"\"https:\/\/gist.github.com\/woodwardtw\/99a1eb899e1c20cf10f1\"\";i:1;s:47:\"gist.github.com\/woodwardtw\/99a1eb899e1c20cf10f1\";}}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5175"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5175"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5175\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/5180"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5175"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5175"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5175"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":5062,"date":"2015-08-24T21:23:06","date_gmt":"2015-08-25T02:23:06","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=5062"},"modified":"2015-10-18T19:23:03","modified_gmt":"2015-10-19T00:23:03","slug":"working-my-sites-filter","type":"post","link":"http:\/\/bionicteaching.com\/working-my-sites-filter\/","title":{"rendered":"Working My Sites Filter"},"content":{"rendered":"<p>So previously I was struggling with stripping out the Participants blogs that the bbPress\/BuddyPress combo was adding to the My Sites list. I got it working and added a bit to deal with it kicking out blogs a little too aggressively.<\/p>\n<p>First to get the actual name of the Participant slug, I made a page template for a theme that only did one thing- listed the user roles array. It is dead simple and looks like so . . . <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php\r\n\/**\r\n * Template Name: user roles \r\n *\r\n * @package WordPress\r\n * @subpackage Lies\r\n * @since Twenty Fourteen 1.0\r\n *\/\r\n     global $wp_roles;\r\n     $roles = $wp_roles-&gt;get_names();\r\n\r\n     \/\/ Below code will print the all list of roles.\r\n     print_r($roles);        \r\n?&gt;\r\n<\/pre>\n<p>Throwing that in a theme let me know that the slug for participant was actually <span class=\"highlight\">bbp_participant<\/span>. I spent a lot of time thinking I was doing something else wrong. I&#8217;m also not a huge fan of doing things this way in PHP. I wish I had the a console log option like in javascript.<\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php\r\n\/*\r\nPlugin Name: ALT Lab Remove Participant Blogs\r\nPlugin URI: https:\/\/github.com\/woodwardtw\/alt-lab-participant-remover\r\nDescription: Removes all the blogs where you are just a participant\r\nAuthor: Tom Woodward\r\nVersion: 1.1\r\nAuthor URI: http:\/\/bionicteaching.com\/\r\n*\/\r\n\r\nfunction remove_non_admin_blogs($blogs) {\r\n \t\t\t\tglobal $current_user; \r\n    \t\t\t$user_id = $current_user-&gt;ID; \r\n    \t\t\t$role = 'bbp_participant';\r\n\r\n                foreach ( $blogs as $blog_id =&gt; $blog ) {\r\n\r\n                    \/\/ Get the user object for the user for this blog.\r\n                    $user = new WP_User( $user_id, '', $blog_id );\r\n                    \/\/ if they only have one user role for that blog . . . then \r\n\t\t\t\tif (count( $user-&gt;roles ) === 1 ){\r\n                    \/\/ Remove this blog from the list if the user is just a participant\r\n                    if (in_array( $role, $user-&gt;roles ) ) {\r\n                        unset( $blogs[ $blog_id ] );\r\n                    }\r\n                }\r\n            }\r\n\r\n                return $blogs;\r\n            }    \r\nadd_filter( 'get_blogs_of_user', 'remove_non_admin_blogs' );\r\n?&gt;\r\n\r\n<\/pre>\n"},"excerpt":{"rendered":"<p>So previously I was struggling with stripping out the Participants blogs that the bbPress\/BuddyPress combo was adding to the My Sites list. I got it working and added a bit to deal with it kicking out blogs a little too aggressively. First to get the actual name of the Participant slug, I made a page template for a theme that only did one thing- listed the user roles array. It is dead simple and looks like so . . . Throwing that in a theme let me know that the slug for participant was actually bbp_participant. I spent a lot of time thinking I was doing something else wrong. I&#8217;m also not a huge fan of doing things this way in PHP. I wish I had the a console log option like in javascript.<\/p>\n"},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[66],"tags":[456,553,551,552,359],"better_featured_image":null,"URL_count":["0"],"word_count":["305"],"URL_array":["a:0:{}"],"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5062"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=5062"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/5062\/revisions"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=5062"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=5062"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=5062"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":4816,"date":"2015-06-02T12:06:41","date_gmt":"2015-06-02T17:06:41","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=4816"},"modified":"2015-06-02T12:50:35","modified_gmt":"2015-06-02T17:50:35","slug":"the-web-provides-all-tab-urls-to-html","type":"post","link":"http:\/\/bionicteaching.com\/the-web-provides-all-tab-urls-to-html\/","title":{"rendered":"The Web Provides &#8211; All Tab URLs to HTML"},"content":{"rendered":"<p><a href=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM.png\"><img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x70.png\" alt=\"Lots of tabs\" width=\"1024\" height=\"70\" class=\"aligncenter size-large wp-image-4818\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x70.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-550x37.png 550w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/p>\n<p>I gave a quick talk to <a href=\"http:\/\/rampages.us\/seminariansunite\/\">University Seminar on General Education<\/a> this morning. As is my want, I did it live from the browser with many, many tabs open. At the end of the presentation I was asked if I could give those tabs to the other humans in attendance. I could have gone the long route and cut\/pasted my way to the answer but I was pretty sure someone had already figured out a better way.<sup id=\"citation-4816-1\" class=\"footnote\"><a href=\"#footnote-4816-1\">1<\/a><\/sup> Sure enough, a quick search for <em><a href=\"https:\/\/www.google.com\/webhp?sourceid=chrome-instant&#038;ion=1&#038;espv=2&#038;ie=UTF-8#safe=off&#038;q=chrome+grab+open+tabs+as+html\">chrome grab open tabs<\/a><\/em> and I ended up with the lovely Chrome extension <a href=\"https:\/\/chrome.google.com\/webstore\/detail\/copy-all-urls\/djdmadneanknadilpjiknlnanaolmbfk\/related?hl=en\">Copy All URLs<\/a>. I used the HTML option and then did a quick find\/replace to make it in list format although you could do it all in the &#8220;custom&#8221; option.  <\/p>\n<p>Update >>> I like Jon&#8217;s <a href=\"https:\/\/chrome.google.com\/webstore\/detail\/session-buddy\/edacconmaakjimmfgnblocblbcdcpbko?hl=en\">alternate plugin<\/a> better if you&#8217;re not going to craft your own structures. It has a bit more flexibility in terms of saving the session etc. <\/p>\n<p>Here&#8217;s the list of URLs for anyone interested. <\/p>\n<ul>\n<li><a href=\"http:\/\/rampages.us\/seminariansunite\/\">University Seminar on General Education Motherblog<\/a><\/li>\n<li><a href=\"http:\/\/altlab.vcu.edu\/get-involved\/\">Get Involved<\/a><\/li>\n<li><a href=\"https:\/\/www.flickr.com\/search\/?text=%23vcualtlab&#038;sort=interestingness-desc\">Flickr &#8211; Photo Sharing!<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/spaces\/\">Rethink Your Space<\/a><\/li>\n<li><a href=\"http:\/\/augmenting.me\/passenger_pigeon\/cranium.html\">Passenger Pigeons Bones in 3D<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/hollywoodcemetery\/submit-a-stone\/\">Submit a marker | Hollywood Cemetery<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/\">Ram Pages | An online community for VCU<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/wp-admin\/network\/\">Dashboard &lsaquo; Network Admin: Rampages.us &mdash; WordPress<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/activity\/\">Site-Wide Activity | Ram Pages<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/examples\/mother-blog\/\">Mother Blog | Items of Interest<\/a><\/li>\n<li><a href=\"http:\/\/augmenting.me\/trials\/inequality2.html\">augmenting.me\/trials\/inequality2.html<\/a><\/li>\n<li><a href=\"http:\/\/augmenting.me\/trials\/before_after\/phpindex.php\">augmenting.me\/trials\/before_after\/phpindex.php<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/psy323\/\">PSY 323: Interpersonal Relations | Student presentations for online Interpersonal Relations<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/radiobeliers\/category\/bonne-bouffe\/\">La Bonne Bouffe | Radio B&eacute;liers<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/gdtheory\/2015\/02\/19\/02192015-7\/\">02\/19\/2015 | Graphic Design Theory<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/sociologicaltheory\/\">sociological theory<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/edynova\/2014\/09\/12\/jesus-dont-want-me-for-a-sunbeam-because-im-from-south-america\/\">Jesus Don&rsquo;t Want Me for a Sunbeam&hellip;because I&rsquo;m from South America | Watching Through the Window: An Examination of Sociological Theory<\/a><\/li>\n<li><a href=\"http:\/\/thoughtvectors.net\/\">Thoughtvectors in Concept Space<\/a><\/li>\n<li><a href=\"http:\/\/thoughtvectors.net\/twitter-explorer\/\">Twitter Explorer | Thoughtvectors in Concept Space<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/ole\/the-perils-promise-of-online-education\/#page-item-5191\">Online Learning Experience The Perils &amp; Promise of Online Education<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/ole\/2015\/05\/30\/youre-never-fully-dressed\/\">Online Learning Experience You&rsquo;re Never Fully Dressed &#55356;&#57119;<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/fieldbotany\/\">Field Botany | Plants of the James River Park System<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/fieldbotany\/2015\/05\/25\/day-2-kudzu-invasive-dogwood-dell-rva\/\">Day 2: Kudzu (invasive), Dogwood Dell, RVA | Field Botany<\/a><\/li>\n<li><a href=\"http:\/\/cdn.knightlab.com\/libs\/storymapjs\/latest\/embed\/index.html?url=https:\/\/940eec087e52329b244ea828a6ab48ada0304b68.googledrive.com\/host\/0BwIcNndh0q-DWWZPM3ZZYlJrbDA\/draft.json\">StoryMapJS: VCU Afam 111.<\/a><\/li>\n<li><a href=\"https:\/\/www.youtube.com\/watch?v=Bnoz4mCWLCs\">AFAM 111 Course Trailer &#8211; YouTube<\/a><\/li>\n<li><a href=\"https:\/\/www.youtube.com\/watch?v=URHkUr1jIvw\">VCU Biology Researchers &#8211; YouTube<\/a><\/li>\n<li><a href=\"https:\/\/www.youtube.com\/watch?v=7MhLcVtDmLc\">ZOOM Audio Recording Tutorial &#8211; YouTube<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/communityengagedresearch\/\">Collaborative Curiosity | CMST 691: Designing Community-Engaged Research<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/communityengagedresearch\/bloggregate\/\">Bloggregate | Collaborative Curiosity<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/communityengagedresearch\/tags-explorer\/\">TAGS Explorer | Collaborative Curiosity<\/a><\/li>\n<li><a href=\"http:\/\/rampages.us\/birdclass\/category\/lab-posts\/\">Lab Posts | Ornithology Lecture and Lab<\/a><\/li>\n<li><a href=\"http:\/\/greatvcubikeracebook.net\/the-courses\/\">The Courses | The Great VCU Bike Race Book<\/a><\/li>\n<\/ul>\n<p><a href=\"https:\/\/www.google.com\/webhp?sourceid=chrome-instant&#038;ion=1&#038;espv=2&#038;ie=UTF-8#safe=off&#038;q=chrome+grab+open+tabs+as+html\"><img src=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.30-PM-1024x651.png\" alt=\"Copy All URLs view on Google Chrome app store\" width=\"1024\" height=\"651\" class=\"aligncenter size-large wp-image-4817\" srcset=\"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.30-PM-1024x651.png 1024w, http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.30-PM-550x350.png 550w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/p>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-4816-1\"><sup><a href=\"#citation-4816-1\">1<\/a><\/sup> It&#8217;s also quite possible Alan or someone has already posted on this and that&#8217;s why I thought it was possible.<\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>I gave a quick talk to University Seminar on General Education this morning. As is my want, I did it live from the browser with many, many tabs open. At the end of the presentation I was asked if I could give those tabs to the other humans in attendance. I could have gone the long route and cut\/pasted my way to the answer but I was pretty sure someone had already figured out a better way.1 Sure enough, a quick search for chrome grab open tabs and I ended up with the lovely Chrome extension Copy All URLs. I used the HTML option and then did a quick find\/replace to make it in list format although you could do it all in the &#8220;custom&#8221; option. Update >>> I like Jon&#8217;s alternate plugin better if you&#8217;re not going to craft your own structures. It has a bit more flexibility in terms of saving the session etc. Here&#8217;s the list of URLs for anyone interested. University Seminar on General Education Motherblog Get Involved Flickr &#8211; Photo Sharing! Rethink Your Space Passenger Pigeons Bones in 3D Submit a marker | Hollywood Cemetery Ram Pages | An online community for VCU Dashboard &lsaquo; Network Admin: Rampages.us &mdash; WordPress Site-Wide Activity | Ram Pages Mother Blog | Items of Interest augmenting.me\/trials\/inequality2.html augmenting.me\/trials\/before_after\/phpindex.php PSY 323: [&hellip;]<\/p>\n"},"author":1,"featured_media":4821,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[473],"tags":[401,359,477,478],"better_featured_image":{"id":4821,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":1024,"height":70,"file":"2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701.png","sizes":{"thumbnail":{"file":"Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-150x70.png","width":150,"height":70,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-150x70.png"},"medium":{"file":"Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-550x38.png","width":550,"height":38,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-550x38.png"},"large":{"file":"Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-1024x70.png","width":1024,"height":70,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-1024x70.png"},"post-thumbnail":{"file":"Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-640x70.png","width":640,"height":70,"mime-type":"image\/png","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701-640x70.png"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0}},"post":4816,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/06\/Screen-Shot-2015-06-02-at-12.14.49-PM-1024x701.png"},"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/4816"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=4816"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/4816\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/4821"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=4816"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=4816"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=4816"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":4632,"date":"2015-03-22T21:44:55","date_gmt":"2015-03-23T02:44:55","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=4632"},"modified":"2015-03-22T21:44:55","modified_gmt":"2015-03-23T02:44:55","slug":"improved-google-folder-shortcode-plugin","type":"post","link":"http:\/\/bionicteaching.com\/improved-google-folder-shortcode-plugin\/","title":{"rendered":"Improved Google Folder Shortcode Plugin"},"content":{"rendered":"<p><a title=\"SHAZAM\" href=\"http:\/\/flickr.com\/photos\/stevensnodgrass\/7504411936\"><img src=\"http:\/\/farm9.static.flickr.com\/8004\/7504411936_6dcc4d186e_z.jpg\" \/><\/a><br \/><small><a href=\"http:\/\/creativecommons.org\/licenses\/by\/2.0\/\">creative commons licensed ( BY )<\/a> <a title=\"SHAZAM\" href=\"http:\/\/flickr.com\/photos\/stevensnodgrass\/7504411936\">flickr photo<\/a> shared by <a href=\"http:\/\/flickr.com\/people\/stevensnodgrass\">Steve Snodgrass<\/a><\/small><\/p>\n<p>In December I wrote a tiny shortcode plugin that would let you embed Google Folders in WordPress. It was mainly to get around the iframe embed issues in WordPress Multisite. This interaction seems to make a number of faculty members pretty happy. <\/p>\n<p>So tonight when I got a comment asking how you&#8217;d get the plugin to display a grid view instead of the list view I decided to take another look at things. The short answer is that you could not do that with the old plugin. Now that I&#8217;m pretending to write code and stuff I thought I might be able to fix that and it turned out to be fairly simple. While I was in there I also added the ability to manually set height and width parameters.<\/p>\n<p>The new plugin is <a href=\"https:\/\/github.com\/woodwardtw\/gfolder_embed\/blob\/master\/gfolder_embed.php\">here<\/a>. It doesn&#8217;t like it when I run both on the same blog (I assume because of the shared shortcode name) so this demo required that I turn off the older plugin. <\/p>\n<p>To make the changes I followed the Codex advice on <a href=\"https:\/\/codex.wordpress.org\/Shortcode_API#Handling_Attributes\">handling attributes<\/a>. <\/p>\n<pre class=\"brush: php; title: ; notranslate\" title=\"\">\r\n&lt;?php\r\n\r\nfunction gdrive_shortcode($atts, $content=null) {\r\n    $a = shortcode_atts( array(\r\n         'id' =&gt; '', \/\/make a name for the id of the folder\r\n         'style' =&gt; 'list',  \/\/make a name for the view style and assign it the default value &quot;list&quot;\r\n    ), $atts); \r\n\treturn '&lt;iframe src=&quot;https:\/\/drive.google.com\/embeddedfolderview?id=' . $a['id'] . '#' . $a['style'] . '&quot; frameborder=&quot;0&quot; width=&quot;100%&quot; height=&quot;500px&quot; scrolling=&quot;auto&quot;&gt; &lt;\/iframe&gt;'; \/\/return this code w the variables interwoven\r\n}\r\nadd_shortcode( 'gdrive', 'gdrive_shortcode' ); \/\/make your shortcode all official\r\n<\/pre>\n<p>This stuff still feels like magic to me. I realize how little actual skill and knowledge I posses in the scheme of things but it is amazing fun to be able to make things that function in the real world. <\/p>\n<h2>List View<\/h2>\n<p>Adding the opening and closing square brackets to this gets you the view below<br \/>\ngdrive id=&#8221;0B_9l84KvUJBWODM4YjY3MGMtZGMzMS00MjI0LTk0NGQtNDgxMTRjMmNlODZl&#8221; style=&#8221;list&#8221; width=&#8221;60%&#8221; height=&#8221;200px&#8221;<br \/>\n<iframe src=\"https:\/\/drive.google.com\/embeddedfolderview?id=0B_9l84KvUJBWODM4YjY3MGMtZGMzMS00MjI0LTk0NGQtNDgxMTRjMmNlODZl#List\" frameborder=\"0\" width=\"60%\" height=\"200px\" scrolling=\"auto\"> <\/iframe> <\/p>\n<h2>Grid View<\/h2>\n<p>Adding the opening and closing square brackets to this gets you the view below<br \/>\ngdrive id=&#8221;0B_9l84KvUJBWODM4YjY3MGMtZGMzMS00MjI0LTk0NGQtNDgxMTRjMmNlODZl&#8221; style=&#8221;grid&#8221;  width=&#8221;100%&#8221; height=&#8221;300px&#8221;<br \/>\n<iframe src=\"https:\/\/drive.google.com\/embeddedfolderview?id=0B_9l84KvUJBWODM4YjY3MGMtZGMzMS00MjI0LTk0NGQtNDgxMTRjMmNlODZl#grid\" frameborder=\"0\" width=\"100%\" height=\"300px\" scrolling=\"auto\"> <\/iframe> <\/p>\n<h2>No Style\/No Height\/No Width<\/h2>\n<p>Adding the opening and closing square brackets to this gets you the view below (it defaults to list view, 100% width, and 500px for height)<br \/>\ngdrive id=&#8221;0B_9l84KvUJBWODM4YjY3MGMtZGMzMS00MjI0LTk0NGQtNDgxMTRjMmNlODZl&#8221;<br \/>\n<iframe src=\"https:\/\/drive.google.com\/embeddedfolderview?id=0B_9l84KvUJBWODM4YjY3MGMtZGMzMS00MjI0LTk0NGQtNDgxMTRjMmNlODZl#list\" frameborder=\"0\" width=\"100%\" height=\"500px\" scrolling=\"auto\"> <\/iframe> <\/p>\n"},"excerpt":{"rendered":"<p>creative commons licensed ( BY ) flickr photo shared by Steve Snodgrass In December I wrote a tiny shortcode plugin that would let you embed Google Folders in WordPress. It was mainly to get around the iframe embed issues in WordPress Multisite. This interaction seems to make a number of faculty members pretty happy. So tonight when I got a comment asking how you&#8217;d get the plugin to display a grid view instead of the list view I decided to take another look at things. The short answer is that you could not do that with the old plugin. Now that I&#8217;m pretending to write code and stuff I thought I might be able to fix that and it turned out to be fairly simple. While I was in there I also added the ability to manually set height and width parameters. The new plugin is here. It doesn&#8217;t like it when I run both on the same blog (I assume because of the shared shortcode name) so this demo required that I turn off the older plugin. To make the changes I followed the Codex advice on handling attributes. This stuff still feels like magic to me. I realize how little actual skill and knowledge I posses in the scheme of things but it is amazing fun to be [&hellip;]<\/p>\n"},"author":1,"featured_media":4641,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[66],"tags":[440,533,359,244],"better_featured_image":{"id":4641,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":640,"height":426,"file":"2015\/03\/7504411936_6dcc4d186e_z.jpg","sizes":{"thumbnail":{"file":"7504411936_6dcc4d186e_z-150x150.jpg","width":150,"height":150,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/7504411936_6dcc4d186e_z-150x150.jpg"},"medium":{"file":"7504411936_6dcc4d186e_z-550x366.jpg","width":550,"height":366,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/7504411936_6dcc4d186e_z-550x366.jpg"},"post-thumbnail":{"file":"7504411936_6dcc4d186e_z-640x360.jpg","width":640,"height":360,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/7504411936_6dcc4d186e_z-640x360.jpg"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0}},"post":4632,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/7504411936_6dcc4d186e_z.jpg"},"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/4632"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=4632"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/4632\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/4641"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=4632"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=4632"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=4632"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}},{"id":4616,"date":"2015-03-20T08:07:34","date_gmt":"2015-03-20T13:07:34","guid":{"rendered":"http:\/\/bionicteaching.com\/?p=4616"},"modified":"2015-03-20T08:07:34","modified_gmt":"2015-03-20T13:07:34","slug":"more-dates-in-wordpress","type":"post","link":"http:\/\/bionicteaching.com\/more-dates-in-wordpress\/","title":{"rendered":"More Dates in WordPress"},"content":{"rendered":"<p><a title=\"Magical Calendar a\" href=\"http:\/\/flickr.com\/photos\/bibliodyssey\/4685041370\"><img src=\"http:\/\/farm5.static.flickr.com\/4072\/4685041370_712b61d7d6_z.jpg\" \/><\/a><br \/><small><a href=\"http:\/\/creativecommons.org\/licenses\/by\/2.0\/\">creative commons licensed ( BY )<\/a> <a title=\"Magical Calendar a\" href=\"http:\/\/flickr.com\/photos\/bibliodyssey\/4685041370\">flickr photo<\/a> shared by <a href=\"http:\/\/flickr.com\/people\/bibliodyssey\">peacay<\/a><\/small><\/p>\n<p>As I continue to mess around with time\/calendaring in WordPress I thought it&#8217;d be helpful to be able to allow users to add specific events<sup id=\"citation-4616-1\" class=\"footnote\"><a href=\"#footnote-4616-1\">1<\/a><\/sup> to the calendar service of their choice. That led me to the <a href=\"https:\/\/addthisevent.com\/\">addthisevent.com<\/a> javascript. It allows the user to choose the calendar format of their choice from a variety of options plus it&#8217;s free for non-profits and schools. <\/p>\n<p>Initially, I just threw a script link in the footer of my Time child theme but that&#8217;s not really how you&#8217;re supposed to do things in WordPress Land and it meant that a pretty useful action would be restricted to that single theme. There are also some people in the AddThisEvent comments requesting WordPress plugins. Since I&#8217;m wandering around the borders of Programistan anyway, I figured I&#8217;d write a plugin. This may be beating a dead horse in terms of detail but I&#8217;m hoping it might help other people who aren&#8217;t programmers get things done. <\/p>\n<h2>Version 1<\/h2>\n<p>The first version was as barebones as you can get. It does via plugin what I did previously via the theme &#8211; stick the addthisevent script in the footer. I referenced the WP <a href=\"http:\/\/codex.wordpress.org\/Function_Reference\/wp_enqueue_script\">wp_enqueue_script<\/a><sup id=\"citation-4616-2\" class=\"footnote\"><a href=\"#footnote-4616-2\">2<\/a><\/sup> page in the codex to do this. You can see it commented up below.<br \/>\n<script src=\"https:\/\/gist.github.com\/woodwardtw\/ba0614f38514d813361e.js\"><\/script><\/p>\n<h2>Version 2<\/h2>\n<p>This second version gets a tiny bit more adventurous. I think it follows the WP practices better in that it first registers the scripts and then enqueues them. It&#8217;s also registering two additional elements &#8211; the custom preferences js for addthisevent and some custom CSS (provided by <a href=\"https:\/\/addthisevent.com\/examples\/4\/\">addthisevent<\/a><sup id=\"citation-4616-3\" class=\"footnote\"><a href=\"#footnote-4616-3\">3<\/a><\/sup>) to make the events look a bit prettier than the default. You can see the preferences and custom CSS options delineated on the addthisevent page but it&#8217;s one of those one page themes that make it difficult to link to the elements. You can see the details in the comments below. The main pieces were looking at <a href=\"https:\/\/codex.wordpress.org\/Function_Reference\/wp_register_script\">wp_register_script<\/a> and both <a href=\"https:\/\/codex.wordpress.org\/Function_Reference\/wp_register_style\">wp_register_style<\/a> and <a href=\"http:\/\/codex.wordpress.org\/Function_Reference\/wp_enqueue_style\">wp_enqueue_style<\/a>. I didn&#8217;t initially notice the difference between how you&#8217;d do that with scripts vs styles. It matters. <\/p>\n<p><script src=\"https:\/\/gist.github.com\/woodwardtw\/252b6d671f3728506f0b.js\"><\/script><\/p>\n<h3>Version 3 Plans<\/h3>\n<p>Next up is a settings panel and using wp_localize_script to allow people to change the CSS and preference options. <\/p>\n<h3>Sidenotes<\/h3>\n<p>The addthisevent syntax (as well as the larger post) is being generated via a Gravity Form. The addthisevent format is below. And you can try it out <a href=\"http:\/\/augmenting.me\/time\/add-event\/\">here<\/a>.<\/p>\n<pre class=\"brush: xml; title: ; notranslate\" title=\"\">\r\n&lt;a href=&quot;http:\/\/example.com\/link-to-your-event&quot; title=&quot;Add to Calendar&quot; class=&quot;addthisevent&quot;&gt;\r\n    Add to Calendar\r\n    &lt;span class=&quot;_start&quot;&gt;10-05-2015 11:38:46&lt;\/span&gt;\r\n    &lt;span class=&quot;_end&quot;&gt;11-05-2015 11:38:46&lt;\/span&gt;\r\n    &lt;span class=&quot;_zonecode&quot;&gt;35&lt;\/span&gt;\r\n    &lt;span class=&quot;_summary&quot;&gt;Summary of the event&lt;\/span&gt;\r\n    &lt;span class=&quot;_description&quot;&gt;Description of the event&lt;\/span&gt;\r\n    &lt;span class=&quot;_location&quot;&gt;Location of the event&lt;\/span&gt;\r\n    &lt;span class=&quot;_organizer&quot;&gt;Organizer&lt;\/span&gt;\r\n    &lt;span class=&quot;_organizer_email&quot;&gt;Organizer e-mail&lt;\/span&gt;\r\n    &lt;span class=&quot;_facebook_event&quot;&gt;http:\/\/www.facebook.com\/events\/160427380695693&lt;\/span&gt;\r\n    &lt;span class=&quot;_all_day_event&quot;&gt;true&lt;\/span&gt;\r\n    &lt;span class=&quot;_date_format&quot;&gt;DD\/MM\/YYYY&lt;\/span&gt;\r\n&lt;\/a&gt;\r\n\r\n<\/pre>\n<p>The submission builds the date button, adds a picture, and creates a map via shortcode using the aptly named <a href=\"https:\/\/wordpress.org\/plugins\/simple-google-maps-short-code\/\">Simple Google Maps Shortcode Plugin<\/a>. I&#8217;m not happy with the map functionality at the moment because clicking on the marker doesn&#8217;t allow you to select &#8220;get directions.&#8221; I was initially using <a href=\"https:\/\/premium.wpmudev.org\/project\/wordpress-google-maps-plugin\/\">WPMU&#8217;s Google Map plugin<\/a> (which does that) but didn&#8217;t like how it only showed the map on the full post. If I can&#8217;t find something that does this well it may be time to write another plugin. <\/p>\n<div id=\"footnotes\">\n<hr \/>\n<p id=\"footnote-4616-1\"><sup><a href=\"#citation-4616-1\">1<\/a><\/sup> A bit different than subscribing to an entire calendar (not the right fit for this project) but it might be a worthy option to pursue in the future.<\/p>\n<p id=\"footnote-4616-2\"><sup><a href=\"#citation-4616-2\">2<\/a><\/sup> I find it virtually impossible to spell enqueue correctly.<\/p>\n<p id=\"footnote-4616-3\"><sup><a href=\"#citation-4616-3\">3<\/a><\/sup> I still need to work on this a bit.<\/p>\n<\/div>\n"},"excerpt":{"rendered":"<p>creative commons licensed ( BY ) flickr photo shared by peacay As I continue to mess around with time\/calendaring in WordPress I thought it&#8217;d be helpful to be able to allow users to add specific events1 to the calendar service of their choice. That led me to the addthisevent.com javascript. It allows the user to choose the calendar format of their choice from a variety of options plus it&#8217;s free for non-profits and schools. Initially, I just threw a script link in the footer of my Time child theme but that&#8217;s not really how you&#8217;re supposed to do things in WordPress Land and it meant that a pretty useful action would be restricted to that single theme. There are also some people in the AddThisEvent comments requesting WordPress plugins. Since I&#8217;m wandering around the borders of Programistan anyway, I figured I&#8217;d write a plugin. This may be beating a dead horse in terms of detail but I&#8217;m hoping it might help other people who aren&#8217;t programmers get things done. Version 1 The first version was as barebones as you can get. It does via plugin what I did previously via the theme &#8211; stick the addthisevent script in the footer. I referenced the WP wp_enqueue_script2 page in the codex to do this. You can see it commented up below. Version [&hellip;]<\/p>\n"},"author":1,"featured_media":4623,"comment_status":"open","ping_status":"open","sticky":false,"format":"standard","categories":[66],"tags":[460,349,359,459,244],"better_featured_image":{"id":4623,"alt_text":"","caption":"","description":"","media_type":"image","media_details":{"width":640,"height":586,"file":"2015\/03\/4685041370_712b61d7d6_z.jpg","sizes":{"thumbnail":{"file":"4685041370_712b61d7d6_z-150x150.jpg","width":150,"height":150,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/4685041370_712b61d7d6_z-150x150.jpg"},"medium":{"file":"4685041370_712b61d7d6_z-550x504.jpg","width":550,"height":504,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/4685041370_712b61d7d6_z-550x504.jpg"},"post-thumbnail":{"file":"4685041370_712b61d7d6_z-640x360.jpg","width":640,"height":360,"mime-type":"image\/jpeg","source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/4685041370_712b61d7d6_z-640x360.jpg"}},"image_meta":{"aperture":0,"credit":"","camera":"","caption":"","created_timestamp":0,"copyright":"","focal_length":0,"iso":0,"shutter_speed":0,"title":"","orientation":0}},"post":4616,"source_url":"http:\/\/bionicteaching.com\/wp-content\/uploads\/2015\/03\/4685041370_712b61d7d6_z.jpg"},"_links":{"self":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/4616"}],"collection":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/comments?post=4616"}],"version-history":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/posts\/4616\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media\/4623"}],"wp:attachment":[{"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/media?parent=4616"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/categories?post=4616"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/bionicteaching.com\/wp-json\/wp\/v2\/tags?post=4616"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}]